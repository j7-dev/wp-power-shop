{"version":3,"file":"App4-cbae8ecd.js","sources":["../../src/pages/Report/index.tsx","../../src/App4.tsx"],"sourcesContent":["import { useState } from 'react'\r\nimport { Input, Button, Form } from 'antd'\r\nimport { KeyOutlined } from '@ant-design/icons'\r\nimport { useAjaxGetPostMeta } from '@/hooks'\r\nimport { postId, snake } from '@/utils'\r\nimport SalesStats from '@/pages/SalesStats'\r\n\r\nconst Report = () => {\r\n\tconst [form] = Form.useForm()\r\n\tconst result = useAjaxGetPostMeta<string>({\r\n\t\tpost_id: postId,\r\n\t\tmeta_key: `${snake}_report_password`,\r\n\t})\r\n\tconst fetchedPassword = result?.meta ?? ''\r\n\tconst decryptedReportPassword = atob(fetchedPassword)\r\n\r\n\tconst [\r\n\t\tshowReport,\r\n\t\tsetShowReport,\r\n\t] = useState(false)\r\n\tconst handleSubmit = () => {\r\n\t\tform.validateFields().then((values) => {\r\n\t\t\tconst { password } = values\r\n\t\t\tsetShowReport(password === decryptedReportPassword)\r\n\t\t})\r\n\t}\r\n\r\n\tif (showReport) {\r\n\t\treturn <SalesStats />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form form={form}>\r\n\t\t\t<div className=\"w-[20rem] mx-auto my-16\">\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<KeyOutlined className=\"text-yellow-500 text-[4rem] mb-8\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname={['password']}\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{ required: true, message: '請輸入密碼' },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpattern: new RegExp(decryptedReportPassword),\r\n\t\t\t\t\t\t\tmessage: '密碼錯誤',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t\thasFeedback={false}\r\n\t\t\t\t\tclassName=\"mb-8\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.Password\r\n\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\tclassName=\"w-full\"\r\n\t\t\t\t\t\tplaceholder=\"請輸入密碼\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item noStyle>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tclassName=\"w-full\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t送出\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</div>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nexport default Report\r\n","import '@/assets/scss/index.scss'\r\nimport Report from './pages/Report'\r\nimport { StyleProvider } from '@ant-design/cssinjs'\r\n\r\nfunction App4() {\r\n\treturn (\r\n\t\t<StyleProvider hashPriority=\"high\">\r\n\t\t\t<Report />\r\n\t\t</StyleProvider>\r\n\t)\r\n}\r\n\r\nexport default App4\r\n"],"names":["Report","form","Form","result","useAjaxGetPostMeta","postId","snake","fetchedPassword","decryptedReportPassword","showReport","setShowReport","useState","handleSubmit","values","password","SalesStats","jsxs","jsx","KeyOutlined","Input","Button","App4","StyleProvider"],"mappings":"2PAOA,MAAMA,EAAS,IAAM,CACpB,KAAM,CAACC,CAAI,EAAIC,EAAK,QAAQ,EACtBC,EAASC,EAA2B,CACzC,QAASC,EACT,SAAU,GAAGC,CAAK,kBAAA,CAClB,EACKC,GAAkBJ,GAAA,YAAAA,EAAQ,OAAQ,GAClCK,EAA0B,KAAKD,CAAe,EAE9C,CACLE,EACAC,CAAA,EACGC,EAAAA,SAAS,EAAK,EACZC,EAAe,IAAM,CAC1BX,EAAK,eAAe,EAAE,KAAMY,GAAW,CAChC,KAAA,CAAE,SAAAC,CAAa,EAAAD,EACrBH,EAAcI,IAAaN,CAAuB,CAAA,CAClD,CAAA,EAGF,OAAIC,IACKM,EAAW,CAAA,CAAA,IAIlBb,EAAK,CAAA,KAAAD,EACL,SAACe,EAAA,MAAA,CAAI,UAAU,0BACd,SAAA,CAAAC,EAAC,OAAI,UAAU,cACd,WAACC,EAAY,CAAA,UAAU,mCAAmC,CAC3D,CAAA,EACAD,EAACf,EAAK,KAAL,CACA,KAAM,CAAC,UAAU,EACjB,MAAO,CACN,CAAE,SAAU,GAAM,QAAS,OAAQ,EACnC,CACC,QAAS,IAAI,OAAOM,CAAuB,EAC3C,QAAS,MACV,CACD,EACA,YAAa,GACb,UAAU,OAEV,SAAAS,EAACE,EAAM,SAAN,CACA,WAAU,GACV,UAAU,SACV,YAAY,QACZ,KAAK,OAAA,CACN,CAAA,CACD,EACCF,EAAAf,EAAK,KAAL,CAAU,QAAO,GACjB,SAAAe,EAACG,EAAA,CACA,SAAS,SACT,UAAU,SACV,KAAK,QACL,KAAK,UACL,QAASR,EACT,SAAA,IAAA,CAAA,EAGF,CAAA,CACD,CAAA,CACD,CAAA,CAEF,EClEA,SAASS,GAAO,CACf,SACEC,EAAc,CAAA,aAAa,OAC3B,SAAAL,EAACjB,IAAO,CACT,CAAA,CAEF"}