import{r as l,_ as ae,R as N,c as G,a as ve,b as be,u as Ve,d as ke,e as Kt,f as j,C as ct,g as Xe,h as ma,i as Nt,j as Jt,k as _n,t as pa,l as va,m as Pe,n as ba,w as Cr,o as Dt,T as Tt,D as An,p as Ca,q as yr,s as Qt,v as ya,x as Sa,y as xa,z as Ea,A as Oa,B as ao,E as wa,F as $a,G as Sr,H as Ia,I as Da,J as io,K as Ta,L as Ln,M as F,N as I,O as jn,P as ot,Q as so,S as zn,U as vt,V as Qe,W as Pa,X as Na,Y as Ma}from"./main-6a64451b.js";import{c as lo,a as co,u as qe,g as uo,C as Ut,b as go,d as Ra,e as Ha,f as yt,m as Mt,o as Bn,h as Fn,i as Fe,j as Vn,t as At,k as un,S as wn,K as me,T as St,l as fo,A as Ue,n as qt,p as ka,q as qn,r as _a,s as Aa,F as La,v as ja,w as za,x as Ba,y as Fa,z as Va,B as Rt,W as qa,L as Wn,D as Wa,E as Ua,G as ho,R as Xa,H as Ga,I as Un,J as bt,M as Pt,N as Xt,O as Ya,P as mo,Q as Be,U as Gt,V as po,X as Ka}from"./useAjaxNonce-66a214d0.js";import{d as vo,I as it,P as Ja,g as Qa,i as Za,a as $n,r as ei,b as bo,n as ti,S as ni,A as ri,u as Xn,f as Gn,L as oi,c as ai,s as Co,e as ii}from"./index-7f75e0c3.js";import{I as Ct,T as si,i as xr,F as K,S as yo,a as So,A as xo,D as Er,b as li,u as ci,c as ui}from"./useModal-28982b15.js";const Yn=e=>{const n=((e==null?void 0:e.images)??[])[0]??{};return(n==null?void 0:n.src)??vo},Lt=(e,t)=>{const n=[];for(let r=e;r<t;r++)n.push(r);return n},Or=({type:e,watchStartTime:t,watchEndTime:n})=>()=>{if(!t||!n)return{};const r=t.format("YYYY-MM-DD"),o=n.format("YYYY-MM-DD");if(r===o){const a=parseInt(t.format("HH"),10),s=parseInt(t.format("mm"),10),i=parseInt(n.format("HH"),10),c=parseInt(n.format("mm"),10);if(e==="startTime")return{disabledHours:()=>Lt(i+1,24),disabledMinutes:u=>{if(u===i)return Lt(c,60)}};if(e==="endTime")return{disabledHours:()=>Lt(0,a),disabledMinutes:u=>{if(u===a)return Lt(0,s+1)}}}return{}},wr=({type:e,watchStartTime:t,watchEndTime:n})=>r=>e==="startTime"?n?r&&r.valueOf()>n.startOf("day").add(1,"d").valueOf():!1:e==="endTime"&&t?r&&r.valueOf()<t.startOf("day").valueOf():!1;function di(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function Eo(e){var t=e.targetRef,n=e.containerRef,r=e.direction,o=e.onDragChange,a=e.onDragChangeComplete,s=e.calculate,i=e.color,c=e.disabledDrag,u=l.useState({x:0,y:0}),g=ae(u,2),d=g[0],p=g[1],f=l.useRef(null),C=l.useRef(null);l.useEffect(function(){p(s())},[i]),l.useEffect(function(){return function(){document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",f.current),document.removeEventListener("touchend",C.current),f.current=null,C.current=null}},[]);var h=function(E){var O=di(E),w=O.pageX,b=O.pageY,m=n.current.getBoundingClientRect(),$=m.x,D=m.y,T=m.width,M=m.height,k=t.current.getBoundingClientRect(),P=k.width,R=k.height,H=P/2,_=R/2,L=Math.max(0,Math.min(w-$,T))-H,z=Math.max(0,Math.min(b-D,M))-_,re={x:L,y:r==="x"?d.y:z};if(P===0&&R===0||P!==R)return!1;o==null||o(re)},v=function(E){E.preventDefault(),h(E)},S=function(E){E.preventDefault(),document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",f.current),document.removeEventListener("touchend",C.current),f.current=null,C.current=null,a==null||a()},y=function(E){document.removeEventListener("mousemove",f.current),document.removeEventListener("mouseup",C.current),!c&&(h(E),document.addEventListener("mousemove",v),document.addEventListener("mouseup",S),document.addEventListener("touchmove",v),document.addEventListener("touchend",S),f.current=v,C.current=S)};return[d,y]}var Oo=function(t){var n=t.size,r=n===void 0?"default":n,o=t.color,a=t.prefixCls;return N.createElement("div",{className:G("".concat(a,"-handler"),ve({},"".concat(a,"-handler-sm"),r==="small")),style:{backgroundColor:o}})},wo=function(t){var n=t.children,r=t.style,o=t.prefixCls;return N.createElement("div",{className:"".concat(o,"-palette"),style:be({position:"relative"},r)},n)},$o=l.forwardRef(function(e,t){var n=e.children,r=e.x,o=e.y;return N.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(o,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),gi=function(t){var n=t.color,r=t.onChange,o=t.prefixCls,a=t.onChangeComplete,s=t.disabled,i=l.useRef(),c=l.useRef(),u=l.useRef(n),g=Ve(function(h){var v=lo({offset:h,targetRef:c,containerRef:i,color:n});u.current=v,r(v)}),d=Eo({color:n,containerRef:i,targetRef:c,calculate:function(){return co(n)},onDragChange:g,onDragChangeComplete:function(){return a==null?void 0:a(u.current)},disabledDrag:s}),p=ae(d,2),f=p[0],C=p[1];return N.createElement("div",{ref:i,className:"".concat(o,"-select"),onMouseDown:C,onTouchStart:C},N.createElement(wo,{prefixCls:o},N.createElement($o,{x:f.x,y:f.y,ref:c},N.createElement(Oo,{color:n.toRgbString(),prefixCls:o})),N.createElement("div",{className:"".concat(o,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},fi=function(t,n){var r=qe(t,{value:n}),o=ae(r,2),a=o[0],s=o[1],i=l.useMemo(function(){return uo(a)},[a]);return[i,s]},hi=function(t){var n=t.colors,r=t.children,o=t.direction,a=o===void 0?"to right":o,s=t.type,i=t.prefixCls,c=l.useMemo(function(){return n.map(function(u,g){var d=uo(u);return s==="alpha"&&g===n.length-1&&(d=new Ut(d.setA(1))),d.toRgbString()}).join(",")},[n,s]);return N.createElement("div",{className:"".concat(i,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(a,", ").concat(c,")")}},r)},mi=function(t){var n=t.prefixCls,r=t.colors,o=t.disabled,a=t.onChange,s=t.onChangeComplete,i=t.color,c=t.type,u=l.useRef(),g=l.useRef(),d=l.useRef(i),p=function(O){return c==="hue"?O.getHue():O.a*100},f=Ve(function(E){var O=lo({offset:E,targetRef:g,containerRef:u,color:i,type:c});d.current=O,a(p(O))}),C=Eo({color:i,targetRef:g,containerRef:u,calculate:function(){return co(i,c)},onDragChange:f,onDragChangeComplete:function(){s(p(d.current))},direction:"x",disabledDrag:o}),h=ae(C,2),v=h[0],S=h[1],y=N.useMemo(function(){if(c==="hue"){var E=i.toHsb();E.s=1,E.b=1,E.a=1;var O=new Ut(E);return O}return i},[i,c]),x=N.useMemo(function(){return r.map(function(E){return"".concat(E.color," ").concat(E.percent,"%")})},[r]);return N.createElement("div",{ref:u,className:G("".concat(n,"-slider"),"".concat(n,"-slider-").concat(c)),onMouseDown:S,onTouchStart:S},N.createElement(wo,{prefixCls:n},N.createElement($o,{x:v.x,y:v.y,ref:g},N.createElement(Oo,{size:"small",color:y.toHexString(),prefixCls:n})),N.createElement(hi,{colors:x,type:c,prefixCls:n})))};function pi(e){return l.useMemo(function(){var t=e||{},n=t.slider;return[n||mi]},[e])}var vi=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],bi=l.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,o=e.prefixCls,a=o===void 0?Ra:o,s=e.onChange,i=e.onChangeComplete,c=e.className,u=e.style,g=e.panelRender,d=e.disabledAlpha,p=d===void 0?!1:d,f=e.disabled,C=f===void 0?!1:f,h=e.components,v=pi(h),S=ae(v,1),y=S[0],x=fi(r||Ha,n),E=ae(x,2),O=E[0],w=E[1],b=l.useMemo(function(){return O.setA(1).toRgbString()},[O]),m=function(z,re){n||w(z),s==null||s(z,re)},$=function(z){return new Ut(O.setHue(z))},D=function(z){return new Ut(O.setA(z/100))},T=function(z){m($(z),{type:"hue",value:z})},M=function(z){m(D(z),{type:"alpha",value:z})},k=function(z){i&&i($(z))},P=function(z){i&&i(D(z))},R=G("".concat(a,"-panel"),c,ve({},"".concat(a,"-panel-disabled"),C)),H={prefixCls:a,disabled:C,color:O},_=N.createElement(N.Fragment,null,N.createElement(gi,ke({onChange:m},H,{onChangeComplete:i})),N.createElement("div",{className:"".concat(a,"-slider-container")},N.createElement("div",{className:G("".concat(a,"-slider-group"),ve({},"".concat(a,"-slider-group-disabled-alpha"),p))},N.createElement(y,ke({},H,{type:"hue",colors:vi,min:0,max:359,value:O.getHue(),onChange:T,onChangeComplete:k})),!p&&N.createElement(y,ke({},H,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:b}],min:0,max:100,value:O.a*100,onChange:M,onChangeComplete:P}))),N.createElement(go,{color:O.toRgbString(),prefixCls:a})));return N.createElement("div",{className:R,style:u,ref:t},typeof g=="function"?g(_):_)});const Ci=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:o,textPaddingInline:a,orientationMargin:s,verticalMarginInline:i}=e;return{[t]:Object.assign(Object.assign({},Kt(e)),{borderBlockStart:`${j(o)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:i,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${j(o)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${j(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${j(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${j(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:a},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${j(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${j(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:n}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:n}}})}},yi=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),Si=yt("Divider",e=>{const t=Mt(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[Ci(t)]},yi,{unitless:{orientationMargin:!0}});var xi=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Ei=e=>{const{getPrefixCls:t,direction:n,divider:r}=l.useContext(ct),{prefixCls:o,type:a="horizontal",orientation:s="center",orientationMargin:i,className:c,rootClassName:u,children:g,dashed:d,variant:p="solid",plain:f,style:C}=e,h=xi(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),v=t("divider",o),[S,y,x]=Si(v),E=!!g,O=s==="left"&&i!=null,w=s==="right"&&i!=null,b=G(v,r==null?void 0:r.className,y,x,`${v}-${a}`,{[`${v}-with-text`]:E,[`${v}-with-text-${s}`]:E,[`${v}-dashed`]:!!d,[`${v}-${p}`]:p!=="solid",[`${v}-plain`]:!!f,[`${v}-rtl`]:n==="rtl",[`${v}-no-default-orientation-margin-left`]:O,[`${v}-no-default-orientation-margin-right`]:w},c,u),m=l.useMemo(()=>typeof i=="number"?i:/^\d+$/.test(i)?Number(i):i,[i]),$=Object.assign(Object.assign({},O&&{marginLeft:m}),w&&{marginRight:m});return S(l.createElement("div",Object.assign({className:b,style:Object.assign(Object.assign({},r==null?void 0:r.style),C)},h,{role:"separator"}),g&&a!=="vertical"&&l.createElement("span",{className:`${v}-inner-text`,style:$},g)))},Oi=Ei;var $r=function(t,n){if(!t)return null;var r={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return n?{left:0,right:0,width:0,top:r.top,bottom:r.bottom,height:r.height}:{left:r.left,right:r.right,width:r.width,top:0,bottom:0,height:0}},We=function(t){return t!==void 0?"".concat(t,"px"):void 0};function wi(e){var t=e.prefixCls,n=e.containerRef,r=e.value,o=e.getValueIndex,a=e.motionName,s=e.onMotionStart,i=e.onMotionEnd,c=e.direction,u=e.vertical,g=u===void 0?!1:u,d=l.useRef(null),p=l.useState(r),f=ae(p,2),C=f[0],h=f[1],v=function(R){var H,_=o(R),L=(H=n.current)===null||H===void 0?void 0:H.querySelectorAll(".".concat(t,"-item"))[_];return(L==null?void 0:L.offsetParent)&&L},S=l.useState(null),y=ae(S,2),x=y[0],E=y[1],O=l.useState(null),w=ae(O,2),b=w[0],m=w[1];Xe(function(){if(C!==r){var P=v(C),R=v(r),H=$r(P,g),_=$r(R,g);h(r),E(H),m(_),P&&R?s():i()}},[r]);var $=l.useMemo(function(){if(g){var P;return We((P=x==null?void 0:x.top)!==null&&P!==void 0?P:0)}return We(c==="rtl"?-(x==null?void 0:x.right):x==null?void 0:x.left)},[g,c,x]),D=l.useMemo(function(){if(g){var P;return We((P=b==null?void 0:b.top)!==null&&P!==void 0?P:0)}return We(c==="rtl"?-(b==null?void 0:b.right):b==null?void 0:b.left)},[g,c,b]),T=function(){return g?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},M=function(){return g?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},k=function(){E(null),m(null),i()};return!x||!b?null:l.createElement(ma,{visible:!0,motionName:a,motionAppear:!0,onAppearStart:T,onAppearActive:M,onVisibleChanged:k},function(P,R){var H=P.className,_=P.style,L=be(be({},_),{},{"--thumb-start-left":$,"--thumb-start-width":We(x==null?void 0:x.width),"--thumb-active-left":D,"--thumb-active-width":We(b==null?void 0:b.width),"--thumb-start-top":$,"--thumb-start-height":We(x==null?void 0:x.height),"--thumb-active-top":D,"--thumb-active-height":We(b==null?void 0:b.height)}),z={ref:Nt(d,R),style:L,className:G("".concat(t,"-thumb"),H)};return l.createElement("div",z)})}var $i=["prefixCls","direction","vertical","options","disabled","defaultValue","value","onChange","className","motionName"];function Ii(e){if(typeof e.title<"u")return e.title;if(_n(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function Di(e){return e.map(function(t){if(_n(t)==="object"&&t!==null){var n=Ii(t);return be(be({},t),{},{title:n})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var Ti=function(t){var n=t.prefixCls,r=t.className,o=t.disabled,a=t.checked,s=t.label,i=t.title,c=t.value,u=t.onChange,g=function(p){o||u(p,c)};return l.createElement("label",{className:G(r,ve({},"".concat(n,"-item-disabled"),o))},l.createElement("input",{className:"".concat(n,"-item-input"),type:"radio",disabled:o,checked:a,onChange:g}),l.createElement("div",{className:"".concat(n,"-item-label"),title:i,role:"option","aria-selected":a},s))},Pi=l.forwardRef(function(e,t){var n,r,o=e.prefixCls,a=o===void 0?"rc-segmented":o,s=e.direction,i=e.vertical,c=e.options,u=c===void 0?[]:c,g=e.disabled,d=e.defaultValue,p=e.value,f=e.onChange,C=e.className,h=C===void 0?"":C,v=e.motionName,S=v===void 0?"thumb-motion":v,y=Jt(e,$i),x=l.useRef(null),E=l.useMemo(function(){return Nt(x,t)},[x,t]),O=l.useMemo(function(){return Di(u)},[u]),w=qe((n=O[0])===null||n===void 0?void 0:n.value,{value:p,defaultValue:d}),b=ae(w,2),m=b[0],$=b[1],D=l.useState(!1),T=ae(D,2),M=T[0],k=T[1],P=function(_,L){g||($(L),f==null||f(L))},R=Bn(y,["children"]);return l.createElement("div",ke({role:"listbox","aria-label":"segmented control"},R,{className:G(a,(r={},ve(r,"".concat(a,"-rtl"),s==="rtl"),ve(r,"".concat(a,"-disabled"),g),ve(r,"".concat(a,"-vertical"),i),r),h),ref:E}),l.createElement("div",{className:"".concat(a,"-group")},l.createElement(wi,{vertical:i,prefixCls:a,value:m,containerRef:x,motionName:"".concat(a,"-").concat(S),direction:s,getValueIndex:function(_){return O.findIndex(function(L){return L.value===_})},onMotionStart:function(){k(!0)},onMotionEnd:function(){k(!1)}}),O.map(function(H){return l.createElement(Ti,ke({},H,{key:H.value,prefixCls:a,className:G(H.className,"".concat(a,"-item"),ve({},"".concat(a,"-item-selected"),H.value===m&&!M)),checked:H.value===m,onChange:P,disabled:!!g||!!H.disabled}))})))}),Ni=Pi;function Ir(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function Dr(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const Mi=Object.assign({overflow:"hidden"},pa),Ri=e=>{const{componentCls:t}=e,n=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),r=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),o=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Kt(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${j(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},Dr(e)),{color:e.itemSelectedColor}),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:j(n),padding:`0 ${j(e.segmentedPaddingHorizontal)}`},Mi),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},Dr(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${j(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:r,lineHeight:j(r),padding:`0 ${j(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:o,lineHeight:j(o),padding:`0 ${j(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),Ir(`&-disabled ${t}-item`,e)),Ir(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},Hi=e=>{const{colorTextLabel:t,colorText:n,colorFillSecondary:r,colorBgElevated:o,colorFill:a,lineWidthBold:s,colorBgLayout:i}=e;return{trackPadding:s,trackBg:i,itemColor:t,itemHoverColor:n,itemHoverBg:r,itemSelectedBg:o,itemActiveBg:a,itemSelectedColor:n}},ki=yt("Segmented",e=>{const{lineWidth:t,calc:n}=e,r=Mt(e,{segmentedPaddingHorizontal:n(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:n(e.controlPaddingHorizontalSM).sub(t).equal()});return[Ri(r)]},Hi);var Tr=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function _i(e){return typeof e=="object"&&!!(e!=null&&e.icon)}const Ai=l.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:o,block:a,options:s=[],size:i="middle",style:c,vertical:u}=e,g=Tr(e,["prefixCls","className","rootClassName","block","options","size","style","vertical"]),{getPrefixCls:d,direction:p,segmented:f}=l.useContext(ct),C=d("segmented",n),[h,v,S]=ki(C),y=Fn(i),x=l.useMemo(()=>s.map(w=>{if(_i(w)){const{icon:b,label:m}=w,$=Tr(w,["icon","label"]);return Object.assign(Object.assign({},$),{label:l.createElement(l.Fragment,null,l.createElement("span",{className:`${C}-item-icon`},b),m&&l.createElement("span",null,m))})}return w}),[s,C]),E=G(r,o,f==null?void 0:f.className,{[`${C}-block`]:a,[`${C}-sm`]:y==="small",[`${C}-lg`]:y==="large",[`${C}-vertical`]:u},v,S),O=Object.assign(Object.assign({},f==null?void 0:f.style),c);return h(l.createElement(Ni,Object.assign({},g,{className:E,style:O,options:x,ref:t,prefixCls:C,direction:p,vertical:u})))}),Li=Ai,ji=Li,Io=N.createContext({}),Do=N.createContext({}),zi=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=()=>{if(r&&n&&!n.cleared){const a=n.toHsb();a.a=0;const s=Fe(a);s.cleared=!0,r(s)}};return N.createElement("div",{className:`${t}-clear`,onClick:o})},To=zi;var rt;(function(e){e.hex="hex",e.rgb="rgb",e.hsb="hsb"})(rt||(rt={}));const Bi=e=>{let{prefixCls:t,min:n=0,max:r=100,value:o,onChange:a,className:s,formatter:i}=e;const c=`${t}-steppers`,[u,g]=l.useState(o);return l.useEffect(()=>{Number.isNaN(o)||g(o)},[o]),N.createElement(it,{className:G(c,s),min:n,max:r,value:u,formatter:i,size:"small",onChange:d=>{o||g(d||0),a==null||a(d)}})},st=Bi,Fi=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-alpha-input`,[a,s]=l.useState(Fe(n||"#000"));l.useEffect(()=>{n&&s(n)},[n]);const i=c=>{const u=a.toHsb();u.a=(c||0)/100;const g=Fe(u);n||s(g),r==null||r(g)};return N.createElement(st,{value:Vn(a),prefixCls:t,formatter:c=>`${c}%`,className:o,onChange:i})},Vi=Fi,qi=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Wi=e=>qi.test(`#${e}`),Ui=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-hex-input`,[a,s]=l.useState(()=>n?At(n.toHexString()):void 0);l.useEffect(()=>{n&&s(At(n.toHexString()))},[n]);const i=c=>{const u=c.target.value;s(At(u)),Wi(At(u,!0))&&(r==null||r(Fe(u)))};return N.createElement(Ct,{className:o,value:a,prefix:"#",onChange:i,size:"small"})},Xi=Ui,Gi=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-hsb-input`,[a,s]=l.useState(Fe(n||"#000"));l.useEffect(()=>{n&&s(n)},[n]);const i=(c,u)=>{const g=a.toHsb();g[u]=u==="h"?c:(c||0)/100;const d=Fe(g);n||s(d),r==null||r(d)};return N.createElement("div",{className:o},N.createElement(st,{max:360,min:0,value:Number(a.toHsb().h),prefixCls:t,className:o,formatter:c=>un(c||0).toString(),onChange:c=>i(Number(c),"h")}),N.createElement(st,{max:100,min:0,value:Number(a.toHsb().s)*100,prefixCls:t,className:o,formatter:c=>`${un(c||0)}%`,onChange:c=>i(Number(c),"s")}),N.createElement(st,{max:100,min:0,value:Number(a.toHsb().b)*100,prefixCls:t,className:o,formatter:c=>`${un(c||0)}%`,onChange:c=>i(Number(c),"b")}))},Yi=Gi,Ki=e=>{let{prefixCls:t,value:n,onChange:r}=e;const o=`${t}-rgb-input`,[a,s]=l.useState(Fe(n||"#000"));l.useEffect(()=>{n&&s(n)},[n]);const i=(c,u)=>{const g=a.toRgb();g[u]=c||0;const d=Fe(g);n||s(d),r==null||r(d)};return N.createElement("div",{className:o},N.createElement(st,{max:255,min:0,value:Number(a.toRgb().r),prefixCls:t,className:o,onChange:c=>i(Number(c),"r")}),N.createElement(st,{max:255,min:0,value:Number(a.toRgb().g),prefixCls:t,className:o,onChange:c=>i(Number(c),"g")}),N.createElement(st,{max:255,min:0,value:Number(a.toRgb().b),prefixCls:t,className:o,onChange:c=>i(Number(c),"b")}))},Ji=Ki,Qi=[rt.hex,rt.hsb,rt.rgb].map(e=>({value:e,label:e.toLocaleUpperCase()})),Zi=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:o,onFormatChange:a,onChange:s}=e,[i,c]=qe(rt.hex,{value:n,onChange:a}),u=`${t}-input`,g=p=>{c(p)},d=l.useMemo(()=>{const p={value:r,prefixCls:t,onChange:s};switch(i){case rt.hsb:return N.createElement(Yi,Object.assign({},p));case rt.rgb:return N.createElement(Ji,Object.assign({},p));default:return N.createElement(Xi,Object.assign({},p))}},[i,t,r,s]);return N.createElement("div",{className:`${u}-container`},N.createElement(wn,{value:i,variant:"borderless",getPopupContainer:p=>p,popupMatchSelectWidth:68,placement:"bottomRight",onChange:g,className:`${t}-format-select`,size:"small",options:Qi}),N.createElement("div",{className:u},d),!o&&N.createElement(Vi,{prefixCls:t,value:r,onChange:s}))},es=Zi;function In(e,t,n){return(e-t)/(n-t)}function Kn(e,t,n,r){var o=In(t,n,r),a={};switch(e){case"rtl":a.right="".concat(o*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(o*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(o*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(o*100,"%"),a.transform="translateX(-50%)";break}return a}function pt(e,t){return Array.isArray(e)?e[t]:e}var ut=l.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Po=l.createContext({}),ts=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Pr=l.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,o=e.valueIndex,a=e.onStartMove,s=e.onDelete,i=e.style,c=e.render,u=e.dragging,g=e.draggingDelete,d=e.onOffsetChange,p=e.onChangeComplete,f=e.onFocus,C=e.onMouseEnter,h=Jt(e,ts),v=l.useContext(ut),S=v.min,y=v.max,x=v.direction,E=v.disabled,O=v.keyboard,w=v.range,b=v.tabIndex,m=v.ariaLabelForHandle,$=v.ariaLabelledByForHandle,D=v.ariaValueTextFormatterForHandle,T=v.styles,M=v.classNames,k="".concat(n,"-handle"),P=function(de){E||a(de,o)},R=function(de){f==null||f(de,o)},H=function(de){C(de,o)},_=function(de){if(!E&&O){var W=null;switch(de.which||de.keyCode){case me.LEFT:W=x==="ltr"||x==="btt"?-1:1;break;case me.RIGHT:W=x==="ltr"||x==="btt"?1:-1;break;case me.UP:W=x!=="ttb"?1:-1;break;case me.DOWN:W=x!=="ttb"?-1:1;break;case me.HOME:W="min";break;case me.END:W="max";break;case me.PAGE_UP:W=2;break;case me.PAGE_DOWN:W=-2;break;case me.BACKSPACE:case me.DELETE:s(o);break}W!==null&&(de.preventDefault(),d(W,o))}},L=function(de){switch(de.which||de.keyCode){case me.LEFT:case me.RIGHT:case me.UP:case me.DOWN:case me.HOME:case me.END:case me.PAGE_UP:case me.PAGE_DOWN:p==null||p();break}},z=Kn(x,r,S,y),re={};if(o!==null){var ue;re={tabIndex:E?null:pt(b,o),role:"slider","aria-valuemin":S,"aria-valuemax":y,"aria-valuenow":r,"aria-disabled":E,"aria-label":pt(m,o),"aria-labelledby":pt($,o),"aria-valuetext":(ue=pt(D,o))===null||ue===void 0?void 0:ue(r),"aria-orientation":x==="ltr"||x==="rtl"?"horizontal":"vertical",onMouseDown:P,onTouchStart:P,onFocus:R,onMouseEnter:H,onKeyDown:_,onKeyUp:L}}var Oe=l.createElement("div",ke({ref:t,className:G(k,ve(ve(ve({},"".concat(k,"-").concat(o+1),o!==null&&w),"".concat(k,"-dragging"),u),"".concat(k,"-dragging-delete"),g),M.handle),style:be(be(be({},z),i),T.handle)},re,h));return c&&(Oe=c(Oe,{index:o,prefixCls:n,value:r,dragging:u,draggingDelete:g})),Oe}),ns=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],rs=l.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,o=e.onStartMove,a=e.onOffsetChange,s=e.values,i=e.handleRender,c=e.activeHandleRender,u=e.draggingIndex,g=e.draggingDelete,d=e.onFocus,p=Jt(e,ns),f=l.useRef({}),C=l.useState(!1),h=ae(C,2),v=h[0],S=h[1],y=l.useState(-1),x=ae(y,2),E=x[0],O=x[1],w=function(T){O(T),S(!0)},b=function(T,M){w(M),d==null||d(T)},m=function(T,M){w(M)};l.useImperativeHandle(t,function(){return{focus:function(T){var M;(M=f.current[T])===null||M===void 0||M.focus()},hideHelp:function(){va.flushSync(function(){S(!1)})}}});var $=be({prefixCls:n,onStartMove:o,onOffsetChange:a,render:i,onFocus:b,onMouseEnter:m},p);return l.createElement(l.Fragment,null,s.map(function(D,T){var M=u===T;return l.createElement(Pr,ke({ref:function(P){P?f.current[T]=P:delete f.current[T]},dragging:M,draggingDelete:M&&g,style:pt(r,T),key:T,value:D,valueIndex:T},$))}),c&&v&&l.createElement(Pr,ke({key:"a11y"},$,{value:s[E],valueIndex:null,dragging:u!==-1,draggingDelete:g,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),os=function(t){var n=t.prefixCls,r=t.style,o=t.children,a=t.value,s=t.onClick,i=l.useContext(ut),c=i.min,u=i.max,g=i.direction,d=i.includedStart,p=i.includedEnd,f=i.included,C="".concat(n,"-text"),h=Kn(g,a,c,u);return l.createElement("span",{className:G(C,ve({},"".concat(C,"-active"),f&&d<=a&&a<=p)),style:be(be({},h),r),onMouseDown:function(S){S.stopPropagation()},onClick:function(){s(a)}},o)},as=function(t){var n=t.prefixCls,r=t.marks,o=t.onClick,a="".concat(n,"-mark");return r.length?l.createElement("div",{className:a},r.map(function(s){var i=s.value,c=s.style,u=s.label;return l.createElement(os,{key:i,prefixCls:a,style:c,value:i,onClick:o},u)})):null},is=function(t){var n=t.prefixCls,r=t.value,o=t.style,a=t.activeStyle,s=l.useContext(ut),i=s.min,c=s.max,u=s.direction,g=s.included,d=s.includedStart,p=s.includedEnd,f="".concat(n,"-dot"),C=g&&d<=r&&r<=p,h=be(be({},Kn(u,r,i,c)),typeof o=="function"?o(r):o);return C&&(h=be(be({},h),typeof a=="function"?a(r):a)),l.createElement("span",{className:G(f,ve({},"".concat(f,"-active"),C)),style:h})},ss=function(t){var n=t.prefixCls,r=t.marks,o=t.dots,a=t.style,s=t.activeStyle,i=l.useContext(ut),c=i.min,u=i.max,g=i.step,d=l.useMemo(function(){var p=new Set;if(r.forEach(function(C){p.add(C.value)}),o&&g!==null)for(var f=c;f<=u;)p.add(f),f+=g;return Array.from(p)},[c,u,g,o,r]);return l.createElement("div",{className:"".concat(n,"-step")},d.map(function(p){return l.createElement(is,{prefixCls:n,key:p,value:p,style:a,activeStyle:s})}))},Nr=function(t){var n=t.prefixCls,r=t.style,o=t.start,a=t.end,s=t.index,i=t.onStartMove,c=t.replaceCls,u=l.useContext(ut),g=u.direction,d=u.min,p=u.max,f=u.disabled,C=u.range,h=u.classNames,v="".concat(n,"-track"),S=In(o,d,p),y=In(a,d,p),x=function(b){!f&&i&&i(b,-1)},E={};switch(g){case"rtl":E.right="".concat(S*100,"%"),E.width="".concat(y*100-S*100,"%");break;case"btt":E.bottom="".concat(S*100,"%"),E.height="".concat(y*100-S*100,"%");break;case"ttb":E.top="".concat(S*100,"%"),E.height="".concat(y*100-S*100,"%");break;default:E.left="".concat(S*100,"%"),E.width="".concat(y*100-S*100,"%")}var O=c||G(v,ve(ve({},"".concat(v,"-").concat(s+1),s!==null&&C),"".concat(n,"-track-draggable"),i),h.track);return l.createElement("div",{className:O,style:be(be({},E),r),onMouseDown:x,onTouchStart:x})},ls=function(t){var n=t.prefixCls,r=t.style,o=t.values,a=t.startPoint,s=t.onStartMove,i=l.useContext(ut),c=i.included,u=i.range,g=i.min,d=i.styles,p=i.classNames,f=l.useMemo(function(){if(!u){if(o.length===0)return[];var h=a??g,v=o[0];return[{start:Math.min(h,v),end:Math.max(h,v)}]}for(var S=[],y=0;y<o.length-1;y+=1)S.push({start:o[y],end:o[y+1]});return S},[o,u,a,g]);if(!c)return null;var C=p.tracks||d.tracks?l.createElement(Nr,{index:null,prefixCls:n,start:f[0].start,end:f[f.length-1].end,replaceCls:G(p.tracks,"".concat(n,"-tracks")),style:d.tracks}):null;return l.createElement(l.Fragment,null,C,f.map(function(h,v){var S=h.start,y=h.end;return l.createElement(Nr,{index:v,prefixCls:n,style:be(be({},pt(r,v)),d.track),start:S,end:y,key:v,onStartMove:s})}))},cs=130;function Mr(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function us(e,t,n,r,o,a,s,i,c,u,g){var d=l.useState(null),p=ae(d,2),f=p[0],C=p[1],h=l.useState(-1),v=ae(h,2),S=v[0],y=v[1],x=l.useState(!1),E=ae(x,2),O=E[0],w=E[1],b=l.useState(n),m=ae(b,2),$=m[0],D=m[1],T=l.useState(n),M=ae(T,2),k=M[0],P=M[1],R=l.useRef(null),H=l.useRef(null),_=l.useRef(null),L=l.useContext(Po),z=L.onDragStart,re=L.onDragChange;Xe(function(){S===-1&&D(n)},[n,S]),l.useEffect(function(){return function(){document.removeEventListener("mousemove",R.current),document.removeEventListener("mouseup",H.current),_.current&&(_.current.removeEventListener("touchmove",R.current),_.current.removeEventListener("touchend",H.current))}},[]);var ue=function(X,oe,ie){oe!==void 0&&C(oe),D(X);var Se=X;ie&&(Se=X.filter(function(se,Q){return Q!==S})),s(Se),re&&re({rawValues:X,deleteIndex:ie?S:-1,draggingIndex:S,draggingValue:oe})},Oe=Ve(function(W,X,oe){if(W===-1){var ie=k[0],Se=k[k.length-1],se=r-ie,Q=o-Se,Y=X*(o-r);Y=Math.max(Y,se),Y=Math.min(Y,Q);var ge=a(ie+Y);Y=ge-ie;var we=k.map(function(U){return U+Y});ue(we)}else{var Z=(o-r)*X,Ce=Pe($);Ce[W]=k[W];var J=c(Ce,Z,W,"dist");ue(J.values,J.value,oe)}}),pe=function(X,oe,ie){X.stopPropagation();var Se=ie||n,se=Se[oe];y(oe),C(se),P(Se),D(Se),w(!1);var Q=Mr(X),Y=Q.pageX,ge=Q.pageY,we=!1;z&&z({rawValues:Se,draggingIndex:oe,draggingValue:se});var Z=function(U){U.preventDefault();var De=Mr(U),Ne=De.pageX,Me=De.pageY,$e=Ne-Y,fe=Me-ge,Re=e.current.getBoundingClientRect(),te=Re.width,ye=Re.height,He,le;switch(t){case"btt":He=-fe/ye,le=$e;break;case"ttb":He=fe/ye,le=$e;break;case"rtl":He=-$e/te,le=fe;break;default:He=$e/te,le=fe}we=u?Math.abs(le)>cs&&g<$.length:!1,w(we),Oe(oe,He,we)},Ce=function J(U){U.preventDefault(),document.removeEventListener("mouseup",J),document.removeEventListener("mousemove",Z),_.current&&(_.current.removeEventListener("touchmove",R.current),_.current.removeEventListener("touchend",H.current)),R.current=null,H.current=null,_.current=null,i(we),y(-1),w(!1)};document.addEventListener("mouseup",Ce),document.addEventListener("mousemove",Z),X.currentTarget.addEventListener("touchend",Ce),X.currentTarget.addEventListener("touchmove",Z),R.current=Z,H.current=Ce,_.current=X.currentTarget},de=l.useMemo(function(){var W=Pe(n).sort(function(se,Q){return se-Q}),X=Pe($).sort(function(se,Q){return se-Q}),oe={};X.forEach(function(se){oe[se]=(oe[se]||0)+1}),W.forEach(function(se){oe[se]=(oe[se]||0)-1});var ie=u?1:0,Se=Object.values(oe).reduce(function(se,Q){return se+Math.abs(Q)},0);return Se<=ie?$:n},[n,$,u]);return[S,f,O,de,pe]}function ds(e,t,n,r,o,a){var s=l.useCallback(function(f){return Math.max(e,Math.min(t,f))},[e,t]),i=l.useCallback(function(f){if(n!==null){var C=e+Math.round((s(f)-e)/n)*n,h=function(x){return(String(x).split(".")[1]||"").length},v=Math.max(h(n),h(t),h(e)),S=Number(C.toFixed(v));return e<=S&&S<=t?S:null}return null},[n,e,t,s]),c=l.useCallback(function(f){var C=s(f),h=r.map(function(y){return y.value});n!==null&&h.push(i(f)),h.push(e,t);var v=h[0],S=t-e;return h.forEach(function(y){var x=Math.abs(C-y);x<=S&&(v=y,S=x)}),v},[e,t,r,n,s,i]),u=function f(C,h,v){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof h=="number"){var y,x=C[v],E=x+h,O=[];r.forEach(function(D){O.push(D.value)}),O.push(e,t),O.push(i(x));var w=h>0?1:-1;S==="unit"?O.push(i(x+w*n)):O.push(i(E)),O=O.filter(function(D){return D!==null}).filter(function(D){return h<0?D<=x:D>=x}),S==="unit"&&(O=O.filter(function(D){return D!==x}));var b=S==="unit"?x:E;y=O[0];var m=Math.abs(y-b);if(O.forEach(function(D){var T=Math.abs(D-b);T<m&&(y=D,m=T)}),y===void 0)return h<0?e:t;if(S==="dist")return y;if(Math.abs(h)>1){var $=Pe(C);return $[v]=y,f($,h-w,v,S)}return y}else{if(h==="min")return e;if(h==="max")return t}},g=function(C,h,v){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",y=C[v],x=u(C,h,v,S);return{value:x,changed:x!==y}},d=function(C){return a===null&&C===0||typeof a=="number"&&C<a},p=function(C,h,v){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",y=C.map(c),x=y[v],E=u(y,h,v,S);if(y[v]=E,o===!1){var O=a||0;v>0&&y[v-1]!==x&&(y[v]=Math.max(y[v],y[v-1]+O)),v<y.length-1&&y[v+1]!==x&&(y[v]=Math.min(y[v],y[v+1]-O))}else if(typeof a=="number"||a===null){for(var w=v+1;w<y.length;w+=1)for(var b=!0;d(y[w]-y[w-1])&&b;){var m=g(y,1,w);y[w]=m.value,b=m.changed}for(var $=v;$>0;$-=1)for(var D=!0;d(y[$]-y[$-1])&&D;){var T=g(y,-1,$-1);y[$-1]=T.value,D=T.changed}for(var M=y.length-1;M>0;M-=1)for(var k=!0;d(y[M]-y[M-1])&&k;){var P=g(y,-1,M-1);y[M-1]=P.value,k=P.changed}for(var R=0;R<y.length-1;R+=1)for(var H=!0;d(y[R+1]-y[R])&&H;){var _=g(y,1,R+1);y[R+1]=_.value,H=_.changed}}return{value:y[v],values:y}};return[c,p]}function gs(e){return l.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,o=e.maxCount;return[!0,t,!t&&n,r||0,o]},[e])}var fs=l.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,o=e.className,a=e.style,s=e.classNames,i=e.styles,c=e.id,u=e.disabled,g=u===void 0?!1:u,d=e.keyboard,p=d===void 0?!0:d,f=e.autoFocus,C=e.onFocus,h=e.onBlur,v=e.min,S=v===void 0?0:v,y=e.max,x=y===void 0?100:y,E=e.step,O=E===void 0?1:E,w=e.value,b=e.defaultValue,m=e.range,$=e.count,D=e.onChange,T=e.onBeforeChange,M=e.onAfterChange,k=e.onChangeComplete,P=e.allowCross,R=P===void 0?!0:P,H=e.pushable,_=H===void 0?!1:H,L=e.reverse,z=e.vertical,re=e.included,ue=re===void 0?!0:re,Oe=e.startPoint,pe=e.trackStyle,de=e.handleStyle,W=e.railStyle,X=e.dotStyle,oe=e.activeDotStyle,ie=e.marks,Se=e.dots,se=e.handleRender,Q=e.activeHandleRender,Y=e.track,ge=e.tabIndex,we=ge===void 0?0:ge,Z=e.ariaLabelForHandle,Ce=e.ariaLabelledByForHandle,J=e.ariaValueTextFormatterForHandle,U=l.useRef(null),De=l.useRef(null),Ne=l.useMemo(function(){return z?L?"ttb":"btt":L?"rtl":"ltr"},[L,z]),Me=gs(m),$e=ae(Me,5),fe=$e[0],Re=$e[1],te=$e[2],ye=$e[3],He=$e[4],le=l.useMemo(function(){return isFinite(S)?S:0},[S]),Ie=l.useMemo(function(){return isFinite(x)?x:100},[x]),xe=l.useMemo(function(){return O!==null&&O<=0?1:O},[O]),Ge=l.useMemo(function(){return typeof _=="boolean"?_?xe:!1:_>=0?_:!1},[_,xe]),Ze=l.useMemo(function(){return Object.keys(ie||{}).map(function(ee){var B=ie[ee],ne={value:Number(ee)};return B&&_n(B)==="object"&&!l.isValidElement(B)&&("label"in B||"style"in B)?(ne.style=B.style,ne.label=B.label):ne.label=B,ne}).filter(function(ee){var B=ee.label;return B||typeof B=="number"}).sort(function(ee,B){return ee.value-B.value})},[ie]),Ot=ds(le,Ie,xe,Ze,R,Ge),dt=ae(Ot,2),he=dt[0],A=dt[1],V=qe(b,{value:w}),_e=ae(V,2),Ae=_e[0],sn=_e[1],Te=l.useMemo(function(){var ee=Ae==null?[]:Array.isArray(Ae)?Ae:[Ae],B=ae(ee,1),ne=B[0],ce=ne===void 0?le:ne,Ee=Ae===null?[]:[ce];if(fe){if(Ee=Pe(ee),$||Ae===void 0){var et=$>=0?$+1:2;for(Ee=Ee.slice(0,et);Ee.length<et;){var Ye;Ee.push((Ye=Ee[Ee.length-1])!==null&&Ye!==void 0?Ye:le)}}Ee.sort(function(Ke,Je){return Ke-Je})}return Ee.forEach(function(Ke,Je){Ee[Je]=he(Ke)}),Ee},[Ae,fe,le,$,he]),gt=function(B){return fe?B:B[0]},kt=Ve(function(ee){var B=Pe(ee).sort(function(ne,ce){return ne-ce});D&&!ba(B,Te,!0)&&D(gt(B)),sn(B)}),sr=Ve(function(ee){ee&&U.current.hideHelp();var B=gt(Te);M==null||M(B),Cr(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),k==null||k(B)}),aa=function(B){if(!(g||!Re||Te.length<=ye)){var ne=Pe(Te);ne.splice(B,1),T==null||T(gt(ne)),kt(ne);var ce=Math.max(0,B-1);U.current.hideHelp(),U.current.focus(ce)}},ia=us(De,Ne,Te,le,Ie,he,kt,sr,A,Re,ye),wt=ae(ia,5),lr=wt[0],sa=wt[1],la=wt[2],ln=wt[3],cr=wt[4],ur=function(B,ne){if(!g){var ce=Pe(Te),Ee=0,et=0,Ye=Ie-le;Te.forEach(function(tt,_t){var br=Math.abs(B-tt);br<=Ye&&(Ye=br,Ee=_t),tt<B&&(et=_t)});var Ke=Ee;Re&&Ye!==0&&(!He||Te.length<He)?(ce.splice(et+1,0,B),Ke=et+1):ce[Ee]=B,fe&&!Te.length&&$===void 0&&ce.push(B);var Je=gt(ce);if(T==null||T(Je),kt(ce),ne){var at,ft;(at=document.activeElement)===null||at===void 0||(ft=at.blur)===null||ft===void 0||ft.call(at),U.current.focus(Ke),cr(ne,Ke,ce)}else M==null||M(Je),Cr(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),k==null||k(Je)}},ca=function(B){B.preventDefault();var ne=De.current.getBoundingClientRect(),ce=ne.width,Ee=ne.height,et=ne.left,Ye=ne.top,Ke=ne.bottom,Je=ne.right,at=B.clientX,ft=B.clientY,tt;switch(Ne){case"btt":tt=(Ke-ft)/Ee;break;case"ttb":tt=(ft-Ye)/Ee;break;case"rtl":tt=(Je-at)/ce;break;default:tt=(at-et)/ce}var _t=le+tt*(Ie-le);ur(he(_t),B)},ua=l.useState(null),dr=ae(ua,2),cn=dr[0],gr=dr[1],da=function(B,ne){if(!g){var ce=A(Te,B,ne);T==null||T(gt(Te)),kt(ce.values),gr(ce.value)}};l.useEffect(function(){if(cn!==null){var ee=Te.indexOf(cn);ee>=0&&U.current.focus(ee)}gr(null)},[cn]);var ga=l.useMemo(function(){return te&&xe===null?!1:te},[te,xe]),fr=Ve(function(ee,B){cr(ee,B),T==null||T(gt(Te))}),hr=lr!==-1;l.useEffect(function(){if(!hr){var ee=Te.lastIndexOf(sa);U.current.focus(ee)}},[hr]);var $t=l.useMemo(function(){return Pe(ln).sort(function(ee,B){return ee-B})},[ln]),fa=l.useMemo(function(){return fe?[$t[0],$t[$t.length-1]]:[le,$t[0]]},[$t,fe,le]),mr=ae(fa,2),pr=mr[0],vr=mr[1];l.useImperativeHandle(t,function(){return{focus:function(){U.current.focus(0)},blur:function(){var B,ne=document,ce=ne.activeElement;(B=De.current)!==null&&B!==void 0&&B.contains(ce)&&(ce==null||ce.blur())}}}),l.useEffect(function(){f&&U.current.focus(0)},[]);var ha=l.useMemo(function(){return{min:le,max:Ie,direction:Ne,disabled:g,keyboard:p,step:xe,included:ue,includedStart:pr,includedEnd:vr,range:fe,tabIndex:we,ariaLabelForHandle:Z,ariaLabelledByForHandle:Ce,ariaValueTextFormatterForHandle:J,styles:i||{},classNames:s||{}}},[le,Ie,Ne,g,p,xe,ue,pr,vr,fe,we,Z,Ce,J,i,s]);return l.createElement(ut.Provider,{value:ha},l.createElement("div",{ref:De,className:G(r,o,ve(ve(ve(ve({},"".concat(r,"-disabled"),g),"".concat(r,"-vertical"),z),"".concat(r,"-horizontal"),!z),"".concat(r,"-with-marks"),Ze.length)),style:a,onMouseDown:ca,id:c},l.createElement("div",{className:G("".concat(r,"-rail"),s==null?void 0:s.rail),style:be(be({},W),i==null?void 0:i.rail)}),Y!==!1&&l.createElement(ls,{prefixCls:r,style:pe,values:Te,startPoint:Oe,onStartMove:ga?fr:void 0}),l.createElement(ss,{prefixCls:r,marks:Ze,dots:Se,style:X,activeStyle:oe}),l.createElement(rs,{ref:U,prefixCls:r,style:de,values:ln,draggingIndex:lr,draggingDelete:la,onStartMove:fr,onOffsetChange:da,onFocus:C,onBlur:h,handleRender:se,activeHandleRender:Q,onChangeComplete:sr,onDelete:Re?aa:void 0}),l.createElement(as,{prefixCls:r,marks:Ze,onClick:ur})))});const hs=l.forwardRef((e,t)=>{const{open:n,draggingDelete:r}=e,o=l.useRef(null),a=n&&!r,s=l.useRef(null);function i(){Dt.cancel(s.current),s.current=null}function c(){s.current=Dt(()=>{var u;(u=o.current)===null||u===void 0||u.forceAlign(),s.current=null})}return l.useEffect(()=>(a?c():i(),i),[a,e.title]),l.createElement(St,Object.assign({ref:Nt(o,t)},e,{open:a}))}),Rr=hs,ms=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:o,marginFull:a,marginPart:s,colorFillContentHover:i,handleColorDisabled:c,calc:u,handleSize:g,handleSizeHover:d,handleActiveColor:p,handleActiveOutlineColor:f,handleLineWidth:C,handleLineWidthHover:h,motionDurationMid:v}=e;return{[t]:Object.assign(Object.assign({},Kt(e)),{position:"relative",height:r,margin:`${j(s)} ${j(a)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${j(a)} ${j(s)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${v}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${v}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:i},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${j(C)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:g,height:g,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:u(C).mul(-1).equal(),insetBlockStart:u(C).mul(-1).equal(),width:u(g).add(u(C).mul(2)).equal(),height:u(g).add(u(C).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:g,height:g,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${j(C)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${v},
            inset-block-start ${v},
            width ${v},
            height ${v},
            box-shadow ${v},
            outline ${v}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:u(d).sub(g).div(2).add(h).mul(-1).equal(),insetBlockStart:u(d).sub(g).div(2).add(h).mul(-1).equal(),width:u(d).add(u(h).mul(2)).equal(),height:u(d).add(u(h).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${j(h)} ${p}`,outline:`6px solid ${f}`,width:d,height:d,insetInlineStart:e.calc(g).sub(d).div(2).equal(),insetBlockStart:e.calc(g).sub(d).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:e.colorBgElevated,border:`${j(C)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:g,height:g,boxShadow:`0 0 0 ${j(C)} ${c}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},No=(e,t)=>{const{componentCls:n,railSize:r,handleSize:o,dotSize:a,marginFull:s,calc:i}=e,c=t?"paddingBlock":"paddingInline",u=t?"width":"height",g=t?"height":"width",d=t?"insetBlockStart":"insetInlineStart",p=t?"top":"insetInlineStart",f=i(r).mul(3).sub(o).div(2).equal(),C=i(o).sub(r).div(2).equal(),h=t?{borderWidth:`${j(C)} 0`,transform:`translateY(${j(i(C).mul(-1).equal())})`}:{borderWidth:`0 ${j(C)}`,transform:`translateX(${j(e.calc(C).mul(-1).equal())})`};return{[c]:r,[g]:i(r).mul(3).equal(),[`${n}-rail`]:{[u]:"100%",[g]:r},[`${n}-track,${n}-tracks`]:{[g]:r},[`${n}-track-draggable`]:Object.assign({},h),[`${n}-handle`]:{[d]:f},[`${n}-mark`]:{insetInlineStart:0,top:0,[p]:i(r).mul(3).add(t?0:s).equal(),[u]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[p]:r,[u]:"100%",[g]:r},[`${n}-dot`]:{position:"absolute",[d]:i(r).sub(a).div(2).equal()}}},ps=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},No(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},vs=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},No(e,!1)),{height:"100%"})}},bs=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,o=e.lineWidth+1,a=e.lineWidth+1*1.5,s=e.colorPrimary,i=new Tt(s).setAlpha(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:o,handleLineWidthHover:a,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:s,handleActiveOutlineColor:i,handleColorDisabled:new Tt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},Cs=yt("Slider",e=>{const t=Mt(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[ms(t),ps(t),vs(t)]},bs),ys=l.createContext({}),Mo=ys;function dn(){const[e,t]=l.useState(!1),n=l.useRef(),r=()=>{Dt.cancel(n.current)},o=a=>{r(),a?t(a):n.current=Dt(()=>{t(a)})};return l.useEffect(()=>r,[]),[e,o]}var Ss=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function xs(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const Es=N.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:o,rootClassName:a,style:s,disabled:i,tooltipPrefixCls:c,tipFormatter:u,tooltipVisible:g,getTooltipPopupContainer:d,tooltipPlacement:p,tooltip:f={},onChangeComplete:C}=e,h=Ss(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:v}=e,{direction:S,slider:y,getPrefixCls:x,getPopupContainer:E}=N.useContext(ct),O=N.useContext(An),w=i??O,{handleRender:b,direction:m}=N.useContext(Mo),D=(m||S)==="rtl",[T,M]=dn(),[k,P]=dn(),R=Object.assign({},f),{open:H,placement:_,getPopupContainer:L,prefixCls:z,formatter:re}=R,ue=H??g,Oe=(T||k)&&ue!==!1,pe=xs(re,u),[de,W]=dn(),X=J=>{C==null||C(J),W(!1)},oe=(J,U)=>J||(U?D?"left":"right":"top"),ie=x("slider",n),[Se,se,Q]=Cs(ie),Y=G(o,y==null?void 0:y.className,a,{[`${ie}-rtl`]:D,[`${ie}-lock`]:de},se,Q);D&&!h.vertical&&(h.reverse=!h.reverse),N.useEffect(()=>{const J=()=>{Dt(()=>{P(!1)},1)};return document.addEventListener("mouseup",J),()=>{document.removeEventListener("mouseup",J)}},[]);const ge=r&&!ue,we=b||((J,U)=>{const{index:De}=U,Ne=J.props;function Me(te,ye,He){var le,Ie,xe,Ge;He&&((Ie=(le=h)[te])===null||Ie===void 0||Ie.call(le,ye)),(Ge=(xe=Ne)[te])===null||Ge===void 0||Ge.call(xe,ye)}const $e=Object.assign(Object.assign({},Ne),{onMouseEnter:te=>{M(!0),Me("onMouseEnter",te)},onMouseLeave:te=>{M(!1),Me("onMouseLeave",te)},onMouseDown:te=>{P(!0),W(!0),Me("onMouseDown",te)},onFocus:te=>{var ye;P(!0),(ye=h.onFocus)===null||ye===void 0||ye.call(h,te),Me("onFocus",te,!0)},onBlur:te=>{var ye;P(!1),(ye=h.onBlur)===null||ye===void 0||ye.call(h,te),Me("onBlur",te,!0)}}),fe=N.cloneElement(J,$e),Re=(!!ue||Oe)&&pe!==null;return ge?fe:N.createElement(Rr,Object.assign({},R,{prefixCls:x("tooltip",z??c),title:pe?pe(U.value):"",open:Re,placement:oe(_??p,v),key:De,overlayClassName:`${ie}-tooltip`,getPopupContainer:L||d||E}),fe)}),Z=ge?(J,U)=>{const De=N.cloneElement(J,{style:Object.assign(Object.assign({},J.props.style),{visibility:"hidden"})});return N.createElement(Rr,Object.assign({},R,{prefixCls:x("tooltip",z??c),title:pe?pe(U.value):"",open:pe!==null&&Oe,placement:oe(_??p,v),key:"tooltip",overlayClassName:`${ie}-tooltip`,getPopupContainer:L||d||E,draggingDelete:U.draggingDelete}),De)}:void 0,Ce=Object.assign(Object.assign({},y==null?void 0:y.style),s);return Se(N.createElement(fs,Object.assign({},h,{step:h.step,range:r,className:Y,style:Ce,disabled:w,ref:t,prefixCls:ie,handleRender:we,activeHandleRender:Z,onChangeComplete:X})))}),Os=Es;var ws=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Ro=e=>{const{prefixCls:t,colors:n,type:r,color:o,range:a=!1,className:s,activeIndex:i,onActive:c,onDragStart:u,onDragChange:g,onKeyDelete:d}=e,p=ws(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),f=Object.assign(Object.assign({},p),{track:!1}),C=l.useMemo(()=>`linear-gradient(90deg, ${n.map(w=>`${w.color} ${w.percent}%`).join(", ")})`,[n]),h=l.useMemo(()=>!o||!r?null:r==="alpha"?o.toRgbString():`hsl(${o.toHsb().h}, 100%, 50%)`,[o,r]),v=Ve(u),S=Ve(g),y=l.useMemo(()=>({onDragStart:v,onDragChange:S}),[]),x=Ve((O,w)=>{const{onFocus:b,style:m,className:$,onKeyDown:D}=O.props,T=Object.assign({},m);return r==="gradient"&&(T.background=fo(n,w.value)),l.cloneElement(O,{onFocus:M=>{c==null||c(w.index),b==null||b(M)},style:T,className:G($,{[`${t}-slider-handle-active`]:i===w.index}),onKeyDown:M=>{(M.key==="Delete"||M.key==="Backspace")&&d&&d(w.index),D==null||D(M)}})}),E=l.useMemo(()=>({direction:"ltr",handleRender:x}),[]);return l.createElement(Mo.Provider,{value:E},l.createElement(Po.Provider,{value:y},l.createElement(Os,Object.assign({},f,{className:G(s,`${t}-slider`),tooltip:{open:!1},range:{editable:a,minCount:2},styles:{rail:{background:C},handle:h?{background:h}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))},$s=e=>{const{value:t,onChange:n,onChangeComplete:r}=e,o=s=>n(s[0]),a=s=>r(s[0]);return l.createElement(Ro,Object.assign({},e,{value:[t],onChange:o,onChangeComplete:a}))},Is=$s;function Hr(e){return Pe(e).sort((t,n)=>t.percent-n.percent)}const Ds=e=>{const{prefixCls:t,mode:n,onChange:r,onChangeComplete:o,onActive:a,activeIndex:s,onGradientDragging:i,colors:c}=e,u=n==="gradient",g=l.useMemo(()=>c.map(S=>({percent:S.percent,color:S.color.toRgbString()})),[c]),d=l.useMemo(()=>g.map(S=>S.percent),[g]),p=l.useRef(g),f=S=>{let{rawValues:y,draggingIndex:x,draggingValue:E}=S;if(y.length>g.length){const O=fo(g,E),w=Pe(g);w.splice(x,0,{percent:E,color:O}),p.current=w}else p.current=g;i(!0),r(new Ue(Hr(p.current)),!0)},C=S=>{let{deleteIndex:y,draggingIndex:x,draggingValue:E}=S,O=Pe(p.current);y!==-1?O.splice(y,1):(O[x]=Object.assign(Object.assign({},O[x]),{percent:E}),O=Hr(O)),r(new Ue(O),!0)},h=S=>{const y=Pe(g);y.splice(S,1);const x=new Ue(y);r(x),o(x)},v=S=>{o(new Ue(g)),s>=S.length&&a(S.length-1),i(!1)};return u?l.createElement(Ro,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:g,color:null,value:d,range:!0,onChangeComplete:v,disabled:!1,type:"gradient",activeIndex:s,onActive:a,onDragStart:f,onDragChange:C,onKeyDelete:h}):null},Ts=l.memo(Ds);var Ps=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Ns={slider:Is},Ms=()=>{const e=l.useContext(Io),{mode:t,onModeChange:n,modeOptions:r,prefixCls:o,allowClear:a,value:s,disabledAlpha:i,onChange:c,onClear:u,onChangeComplete:g,activeIndex:d,gradientDragging:p}=e,f=Ps(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),C=N.useMemo(()=>s.cleared?[{percent:0,color:new Ue("")},{percent:100,color:new Ue("")}]:s.getColors(),[s]),h=!s.isGradient(),[v,S]=N.useState(s);Xe(()=>{var P;h||S((P=C[d])===null||P===void 0?void 0:P.color)},[p,d]);const y=N.useMemo(()=>{var P;return h?s:p?v:(P=C[d])===null||P===void 0?void 0:P.color},[s,d,h,v,p]),[x,E]=N.useState(y),[O,w]=N.useState(0),b=x!=null&&x.equals(y)?y:x;Xe(()=>{E(y)},[O,y==null?void 0:y.toHexString()]);const m=(P,R)=>{let H=Fe(P);if(s.cleared){const L=H.toRgb();if(!L.r&&!L.g&&!L.b&&R){const{type:z,value:re=0}=R;H=new Ue({h:z==="hue"?re:0,s:1,b:1,a:z==="alpha"?re/100:1})}else H=qt(H)}if(t==="single")return H;const _=Pe(C);return _[d]=Object.assign(Object.assign({},_[d]),{color:H}),new Ue(_)},$=(P,R,H)=>{const _=m(P,H);E(_.isGradient()?_.getColors()[d].color:_),c(_,R)},D=(P,R)=>{g(m(P,R)),w(H=>H+1)},T=P=>{c(m(P))};let M=null;const k=r.length>1;return(a||k)&&(M=N.createElement("div",{className:`${o}-operation`},k&&N.createElement(ji,{size:"small",options:r,value:t,onChange:n}),N.createElement(To,Object.assign({prefixCls:o,value:s,onChange:P=>{c(P),u==null||u()}},f)))),N.createElement(N.Fragment,null,M,N.createElement(Ts,Object.assign({},e,{colors:C})),N.createElement(bi,{prefixCls:o,value:b==null?void 0:b.toHsb(),disabledAlpha:i,onChange:(P,R)=>{$(P,!0,R)},onChangeComplete:(P,R)=>{D(P,R)},components:Ns}),N.createElement(es,Object.assign({value:y,onChange:T,prefixCls:o,disabledAlpha:i},f)))},kr=Ms,Rs=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=l.useContext(Do);return Array.isArray(n)?N.createElement(ka,{value:t,presets:n,prefixCls:e,onChange:r}):null},_r=Rs,Hs=e=>{const{prefixCls:t,presets:n,panelRender:r,value:o,onChange:a,onClear:s,allowClear:i,disabledAlpha:c,mode:u,onModeChange:g,modeOptions:d,onChangeComplete:p,activeIndex:f,onActive:C,format:h,onFormatChange:v,gradientDragging:S,onGradientDragging:y}=e,x=`${t}-inner`,E=N.useMemo(()=>({prefixCls:t,value:o,onChange:a,onClear:s,allowClear:i,disabledAlpha:c,mode:u,onModeChange:g,modeOptions:d,onChangeComplete:p,activeIndex:f,onActive:C,format:h,onFormatChange:v,gradientDragging:S,onGradientDragging:y}),[t,o,a,s,i,c,u,g,d,p,f,C,h,v,S,y]),O=N.useMemo(()=>({prefixCls:t,value:o,presets:n,onChange:a}),[t,o,n,a]),w=N.createElement("div",{className:`${x}-content`},N.createElement(kr,null),Array.isArray(n)&&N.createElement(Oi,null),N.createElement(_r,null));return N.createElement(Io.Provider,{value:E},N.createElement(Do.Provider,{value:O},N.createElement("div",{className:x},typeof r=="function"?r(w,{components:{Picker:kr,Presets:_r}}):w)))},ks=Hs;var _s=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const As=l.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:o,disabled:a,format:s,className:i,showText:c,activeIndex:u}=e,g=_s(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),d=`${r}-trigger`,p=`${d}-text`,f=`${p}-cell`,[C]=qn("ColorPicker"),h=N.useMemo(()=>{if(!c)return"";if(typeof c=="function")return c(n);if(n.cleared)return C.transparent;if(n.isGradient())return n.getColors().map((x,E)=>{const O=u!==-1&&u!==E;return N.createElement("span",{key:E,className:G(f,O&&`${f}-inactive`)},x.color.toRgbString()," ",x.percent,"%")});const S=n.toHexString().toUpperCase(),y=Vn(n);switch(s){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return y<100?`${S.slice(0,7)},${y}%`:S}},[n,s,c,u]),v=l.useMemo(()=>n.cleared?N.createElement(To,{prefixCls:r}):N.createElement(go,{prefixCls:r,color:n.toCssString()}),[n,r]);return N.createElement("div",Object.assign({ref:t,className:G(d,i,{[`${d}-active`]:o,[`${d}-disabled`]:a})},_a(g)),v,c&&N.createElement("div",{className:p},h))}),Ls=As;function js(e,t,n){const[r]=qn("ColorPicker"),[o,a]=qe(e,{value:t}),[s,i]=l.useState("single"),[c,u]=l.useMemo(()=>{const h=(Array.isArray(n)?n:[n]).filter(x=>x);h.length||h.push("single");const v=new Set(h),S=[],y=(x,E)=>{v.has(x)&&S.push({label:E,value:x})};return y("single",r.singleColor),y("gradient",r.gradientColor),[S,v]},[n]),[g,d]=l.useState(null),p=Ve(h=>{d(h),a(h)}),f=l.useMemo(()=>{const h=Fe(o||"");return h.equals(g)?g:h},[o,g]),C=l.useMemo(()=>{var h;return u.has(s)?s:(h=c[0])===null||h===void 0?void 0:h.value},[u,s,c]);return l.useEffect(()=>{i(f.isGradient()?"gradient":"single")},[f]),[f,p,C,i,c]}const Ho=(e,t)=>({backgroundImage:`conic-gradient(${t} 0 25%, transparent 0 50%, ${t} 0 75%, transparent 0)`,backgroundSize:`${e} ${e}`}),zs=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:o,lineWidth:a,colorFillSecondary:s}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:o,flex:"none"},Ho("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${j(a)} ${s}`,borderRadius:"inherit"}})}},Ar=zs,Bs=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:o,colorPickerAlphaInputWidth:a,marginXXS:s,paddingXXS:i,controlHeightSM:c,marginXS:u,fontSizeIcon:g,paddingXS:d,colorTextPlaceholder:p,colorPickerInputNumberHandleWidth:f,lineWidth:C}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:o,[`${n}-input-number-input`]:{paddingInlineStart:i,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:f}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${j(a)}`,marginInlineStart:s},[`${t}-format-select${n}-select`]:{marginInlineEnd:u,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(g).add(s).equal(),fontSize:r,lineHeight:j(c)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:o},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:s,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:s,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${j(d)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:j(e.calc(c).sub(e.calc(C).mul(2)).equal())},[`${n}-input-prefix`]:{color:p}}}}}},Fs=Bs,Vs=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:o,marginSM:a,colorBgElevated:s,colorFillSecondary:i,lineWidthBold:c,colorPickerHandlerSize:u}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:o,inset:0},marginBottom:a},[`${t}-handler`]:{width:u,height:u,border:`${j(c)} solid ${s}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${o}, 0 0 0 1px ${i}`}}},qs=Vs,Ws=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:o,colorPickerPresetColorSize:a,fontSizeSM:s,colorText:i,lineHeightSM:c,lineWidth:u,borderRadius:g,colorFill:d,colorWhite:p,marginXXS:f,paddingXS:C,fontHeightSM:h}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:h,color:r,paddingInlineEnd:o}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:f},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${j(C)} 0`},"&-label":{fontSize:s,color:i,lineHeight:c},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(f).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:a,height:a,"&::before":{content:'""',pointerEvents:"none",width:e.calc(a).add(e.calc(u).mul(4)).equal(),height:e.calc(a).add(e.calc(u).mul(4)).equal(),position:"absolute",top:e.calc(u).mul(-2).equal(),insetInlineStart:e.calc(u).mul(-2).equal(),borderRadius:g,border:`${j(u)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:d},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(a).div(13).mul(5).equal(),height:e.calc(a).div(13).mul(8).equal(),border:`${j(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:p,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:s,color:r}}}},Us=Ws,Xs=e=>{const{componentCls:t,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:o,lineWidthBold:a,colorPickerHandlerSizeSM:s,colorPickerSliderHeight:i,marginSM:c,marginXS:u}=e,g=e.calc(s).sub(e.calc(a).mul(2).equal()).equal(),d=e.calc(s).add(e.calc(a).mul(2).equal()).equal(),p={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[Ho(j(i),e.colorFillSecondary),{margin:0,padding:0,height:i,borderRadius:e.calc(i).div(2).equal(),"&-rail":{height:i,borderRadius:e.calc(i).div(2).equal(),boxShadow:n},[`& ${t}-slider-handle`]:{width:g,height:g,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:d,height:d,borderRadius:"100%"},"&:after":{width:s,height:s,border:`${j(a)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${o}`,outline:"none",insetInlineStart:e.calc(a).mul(-1).equal(),top:e.calc(a).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":p}}],[`${t}-slider-container`]:{display:"flex",gap:c,marginBottom:c,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:u,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":p}}}},Gs=Xs,Dn=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${j(e.controlOutlineWidth)} ${n}`,outline:0}),Ys=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},Lr=(e,t,n)=>{const{componentCls:r,borderRadiusSM:o,lineWidth:a,colorSplit:s,colorBorder:i,red6:c}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:o,border:`${j(a)} solid ${s}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(a).mul(-1).equal(),top:e.calc(a).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:c},"&:hover":{borderColor:i}})}},Ks=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:o,colorWarningHover:a,colorErrorOutline:s,colorWarningOutline:i}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:o},[`&${t}-trigger-active`]:Object.assign({},Dn(e,n,s))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},Dn(e,r,i))}}},Js=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:o,controlHeightXS:a,borderRadius:s,borderRadiusSM:i,borderRadiusXS:c,borderRadiusLG:u,fontSizeLG:g}=e;return{[`&${t}-lg`]:{minWidth:n,minHeight:n,borderRadius:u,[`${t}-color-block, ${t}-clear`]:{width:o,height:o,borderRadius:s},[`${t}-trigger-text`]:{fontSize:g}},[`&${t}-sm`]:{minWidth:r,minHeight:r,borderRadius:i,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:c},[`${t}-trigger-text`]:{lineHeight:j(a)}}}},Qs=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:o,motionDurationMid:a,colorBgElevated:s,colorTextDisabled:i,colorText:c,colorBgContainerDisabled:u,borderRadius:g,marginXS:d,marginSM:p,controlHeight:f,controlHeightSM:C,colorBgTextActive:h,colorPickerPresetColorSize:v,colorPickerPreviewSize:S,lineWidth:y,colorBorder:x,paddingXXS:E,fontSize:O,colorPrimaryHover:w,controlOutline:b}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${j(p)} 0 ${j(d)}`}},[`${n}-panel`]:Object.assign({},qs(e))},Gs(e)),Ar(e,S)),Fs(e)),Us(e)),Lr(e,v,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:d}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:f,minHeight:f,borderRadius:g,border:`${j(y)} solid ${x}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${a}`,background:s,padding:e.calc(E).sub(y).equal(),[`${n}-trigger-text`]:{marginInlineStart:d,marginInlineEnd:e.calc(d).sub(e.calc(E).sub(y)).equal(),fontSize:O,color:c,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:i}}},"&:hover":{borderColor:w},[`&${n}-trigger-active`]:Object.assign({},Dn(e,o,b)),"&-disabled":{color:i,background:u,cursor:"not-allowed","&:hover":{borderColor:h},[`${n}-trigger-text`]:{color:i}}},Lr(e,C)),Ar(e,C)),Ks(e)),Js(e))},Ys(e))},Aa(e,{focusElCls:`${n}-trigger-active`})]},Zs=yt("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,o=Mt(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[Qs(o)]});var el=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Jn=e=>{const{mode:t,value:n,defaultValue:r,format:o,defaultFormat:a,allowClear:s=!1,presets:i,children:c,trigger:u="click",open:g,disabled:d,placement:p="bottomLeft",arrow:f=!0,panelRender:C,showText:h,style:v,className:S,size:y,rootClassName:x,prefixCls:E,styles:O,disabledAlpha:w=!1,onFormatChange:b,onChange:m,onClear:$,onOpenChange:D,onChangeComplete:T,getPopupContainer:M,autoAdjustOverflow:k=!0,destroyTooltipOnHide:P}=e,R=el(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide"]),{getPrefixCls:H,direction:_,colorPicker:L}=l.useContext(ct),z=l.useContext(An),re=d??z,[ue,Oe]=qe(!1,{value:g,postState:he=>!re&&he,onChange:D}),[pe,de]=qe(o,{value:o,defaultValue:a,onChange:b}),W=H("color-picker",E),[X,oe,ie,Se,se]=js(r,n,t),Q=l.useMemo(()=>Vn(X)<100,[X]),[Y,ge]=N.useState(null),we=he=>{if(T){let A=Fe(he);w&&Q&&(A=qt(he)),T(A)}},Z=(he,A)=>{let V=Fe(he);w&&Q&&(V=qt(V)),oe(V),ge(null),m&&m(V,V.toCssString()),A||we(V)},[Ce,J]=N.useState(0),[U,De]=N.useState(!1),Ne=he=>{if(Se(he),he==="single"&&X.isGradient())J(0),Z(new Ue(X.getColors()[0].color)),ge(X);else if(he==="gradient"&&!X.isGradient()){const A=Q?qt(X):X;Z(new Ue(Y||[{percent:0,color:A},{percent:100,color:A}]))}},{status:Me}=N.useContext(La),{compactSize:$e,compactItemClassnames:fe}=ja(W,_),Re=Fn(he=>{var A;return(A=y??$e)!==null&&A!==void 0?A:he}),te=za(W),[ye,He,le]=Zs(W,te),Ie={[`${W}-rtl`]:_},xe=G(x,le,te,Ie),Ge=G(Ba(W,Me),{[`${W}-sm`]:Re==="small",[`${W}-lg`]:Re==="large"},fe,L==null?void 0:L.className,xe,S,He),Ze=G(W,xe),Ot={open:ue,trigger:u,placement:p,arrow:f,rootClassName:x,getPopupContainer:M,autoAdjustOverflow:k,destroyTooltipOnHide:P},dt=Object.assign(Object.assign({},L==null?void 0:L.style),v);return ye(N.createElement(Ja,Object.assign({style:O==null?void 0:O.popup,overlayInnerStyle:O==null?void 0:O.popupOverlayInner,onOpenChange:he=>{(!he||!re)&&Oe(he)},content:N.createElement(Fa,{form:!0},N.createElement(ks,{mode:ie,onModeChange:Ne,modeOptions:se,prefixCls:W,value:X,allowClear:s,disabled:re,disabledAlpha:w,presets:i,panelRender:C,format:pe,onFormatChange:de,onChange:Z,onChangeComplete:we,onClear:$,activeIndex:Ce,onActive:J,gradientDragging:U,onGradientDragging:De})),overlayClassName:Ze},Ot),c||N.createElement(Ls,Object.assign({activeIndex:ue?Ce:-1,open:ue,className:Ge,style:dt,prefixCls:W,disabled:re,showText:h,format:pe},R,{color:X}))))},tl=Va(Jn,"color-picker",e=>e,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}));Jn._InternalPanelDoNotUseOrYouWillBeFired=tl;const nl=Jn;function rl(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]}var ol={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const al=ol;var il=function(t,n){return l.createElement(Rt,ke({},t,{ref:n,icon:al}))},sl=l.forwardRef(il);const ll=sl;var cl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const ul=cl;var dl=function(t,n){return l.createElement(Rt,ke({},t,{ref:n,icon:ul}))},gl=l.forwardRef(dl);const fl=gl;var hl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const ml=hl;var pl=function(t,n){return l.createElement(Rt,ke({},t,{ref:n,icon:ml}))},vl=l.forwardRef(pl);const bl=vl;var Cl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-12-12-28.3-18.7-45.3-18.7H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 176h256v112H384V176zm128 554c-79.5 0-144-64.5-144-144s64.5-144 144-144 144 64.5 144 144-64.5 144-144 144zm0-224c-44.2 0-80 35.8-80 80s35.8 80 80 80 80-35.8 80-80-35.8-80-80-80z"}}]},name:"save",theme:"filled"};const yl=Cl;var Sl=function(t,n){return l.createElement(Rt,ke({},t,{ref:n,icon:yl}))},xl=l.forwardRef(Sl);const El=xl;var Ol={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1a110.96 110.96 0 00-79.1-32.8zm412.3 235.5l-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9a32.03 32.03 0 009.3-35.2l-.9-2.6a442.5 442.5 0 00-79.6-137.7l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52-9.4-106.8-9.4-158.8 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.3a353.44 353.44 0 00-98.9 57.3l-81.8-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a445.93 445.93 0 00-79.6 137.7l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3a32.05 32.05 0 0025.8 25.7l2.7.5a448.27 448.27 0 00158.8 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l.9-2.6c4.3-12.4.6-26.3-9.5-35zm-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"}}]},name:"setting",theme:"filled"};const wl=Ol;var $l=function(t,n){return l.createElement(Rt,ke({},t,{ref:n,icon:wl}))},Il=l.forwardRef($l);const Dl=Il;var Tl=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],ko=l.forwardRef(function(e,t){var n,r=e.prefixCls,o=r===void 0?"rc-switch":r,a=e.className,s=e.checked,i=e.defaultChecked,c=e.disabled,u=e.loadingIcon,g=e.checkedChildren,d=e.unCheckedChildren,p=e.onClick,f=e.onChange,C=e.onKeyDown,h=Jt(e,Tl),v=qe(!1,{value:s,defaultValue:i}),S=ae(v,2),y=S[0],x=S[1];function E(m,$){var D=y;return c||(D=m,x(D),f==null||f(D,$)),D}function O(m){m.which===me.LEFT?E(!1,m):m.which===me.RIGHT&&E(!0,m),C==null||C(m)}function w(m){var $=E(!y,m);p==null||p($,m)}var b=G(o,a,(n={},ve(n,"".concat(o,"-checked"),y),ve(n,"".concat(o,"-disabled"),c),n));return l.createElement("button",ke({},h,{type:"button",role:"switch","aria-checked":y,disabled:c,className:b,ref:t,onKeyDown:O,onClick:w}),u,l.createElement("span",{className:"".concat(o,"-inner")},l.createElement("span",{className:"".concat(o,"-inner-checked")},g),l.createElement("span",{className:"".concat(o,"-inner-unchecked")},d)))});ko.displayName="Switch";const Pl=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:o,innerMinMarginSM:a,innerMaxMarginSM:s,handleSizeSM:i,calc:c}=e,u=`${t}-inner`,g=j(c(i).add(c(r).mul(2)).equal()),d=j(c(s).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:o,height:n,lineHeight:j(n),[`${t}-inner`]:{paddingInlineStart:s,paddingInlineEnd:a,[`${u}-checked, ${u}-unchecked`]:{minHeight:n},[`${u}-checked`]:{marginInlineStart:`calc(-100% + ${g} - ${d})`,marginInlineEnd:`calc(100% - ${g} + ${d})`},[`${u}-unchecked`]:{marginTop:c(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:i,height:i},[`${t}-loading-icon`]:{top:c(c(i).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:a,paddingInlineEnd:s,[`${u}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${u}-unchecked`]:{marginInlineStart:`calc(100% - ${g} + ${d})`,marginInlineEnd:`calc(-100% + ${g} - ${d})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${j(c(i).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${u}`]:{[`${u}-unchecked`]:{marginInlineStart:c(e.marginXXS).div(2).equal(),marginInlineEnd:c(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${u}`]:{[`${u}-checked`]:{marginInlineStart:c(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:c(e.marginXXS).div(2).equal()}}}}}}},Nl=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},Ml=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:o,handleSize:a,calc:s}=e,i=`${t}-handle`;return{[t]:{[i]:{position:"absolute",top:n,insetInlineStart:n,width:a,height:a,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:s(a).div(2).equal(),boxShadow:o,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${i}`]:{insetInlineStart:`calc(100% - ${j(s(a).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${i}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${i}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Rl=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:o,innerMaxMargin:a,handleSize:s,calc:i}=e,c=`${t}-inner`,u=j(i(s).add(i(r).mul(2)).equal()),g=j(i(a).mul(2).equal());return{[t]:{[c]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:a,paddingInlineEnd:o,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${c}-checked, ${c}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${g})`,marginInlineEnd:`calc(100% - ${u} + ${g})`},[`${c}-unchecked`]:{marginTop:i(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${c}`]:{paddingInlineStart:o,paddingInlineEnd:a,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${g})`,marginInlineEnd:`calc(-100% + ${u} - ${g})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:i(r).mul(2).equal(),marginInlineEnd:i(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:i(r).mul(-1).mul(2).equal(),marginInlineEnd:i(r).mul(2).equal()}}}}}},Hl=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Kt(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:j(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),Ca(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},kl=e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:o}=e,a=t*n,s=r/2,i=2,c=a-i*2,u=s-i*2;return{trackHeight:a,trackHeightSM:s,trackMinWidth:c*2+i*4,trackMinWidthSM:u*2+i*2,trackPadding:i,handleBg:o,handleSize:c,handleSizeSM:u,handleShadow:`0 2px 4px 0 ${new Tt("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:c/2,innerMaxMargin:c+i+i*2,innerMinMarginSM:u/2,innerMaxMarginSM:u+i+i*2}},_l=yt("Switch",e=>{const t=Mt(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Hl(t),Rl(t),Ml(t),Nl(t),Pl(t)]},kl);var Al=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Ll=l.forwardRef((e,t)=>{const{prefixCls:n,size:r,disabled:o,loading:a,className:s,rootClassName:i,style:c,checked:u,value:g,defaultChecked:d,defaultValue:p,onChange:f}=e,C=Al(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[h,v]=qe(!1,{value:u??g,defaultValue:d??p}),{getPrefixCls:S,direction:y,switch:x}=l.useContext(ct),E=l.useContext(An),O=(o??E)||a,w=S("switch",n),b=l.createElement("div",{className:`${w}-handle`},a&&l.createElement(Wn,{className:`${w}-loading-icon`})),[m,$,D]=_l(w),T=Fn(r),M=G(x==null?void 0:x.className,{[`${w}-small`]:T==="small",[`${w}-loading`]:a,[`${w}-rtl`]:y==="rtl"},s,i,$,D),k=Object.assign(Object.assign({},x==null?void 0:x.style),c),P=function(){v(arguments.length<=0?void 0:arguments[0]),f==null||f.apply(void 0,arguments)};return m(l.createElement(qa,{component:"Switch"},l.createElement(ko,Object.assign({},C,{checked:h,onChange:P,prefixCls:w,className:M,style:k,disabled:O,ref:t,loadingIcon:b}))))}),_o=Ll;_o.__ANT_SWITCH=!0;const jt=_o,jl=e=>{const t=e!=null&&e.algorithm?yr(e.algorithm):yr(Qt),n=Object.assign(Object.assign({},ya),e==null?void 0:e.token);return Sa(n,{override:e==null?void 0:e.token},t,xa)},zl=jl;function Bl(e){const{sizeUnit:t,sizeStep:n}=e,r=n-2;return{sizeXXL:t*(r+10),sizeXL:t*(r+6),sizeLG:t*(r+2),sizeMD:t*(r+2),sizeMS:t*(r+1),size:t*r,sizeSM:t*r,sizeXS:t*(r-1),sizeXXS:t*(r-1)}}const Fl=(e,t)=>{const n=t??Qt(e),r=n.fontSizeSM,o=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),Bl(t??e)),Ea(r)),{controlHeight:o}),Oa(Object.assign(Object.assign({},n),{controlHeight:o})))},Vl=Fl,Le=(e,t)=>new Tt(e).setAlpha(t).toRgbString(),ht=(e,t)=>new Tt(e).lighten(t).toHexString(),ql=e=>{const t=ao(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},Wl=(e,t)=>{const n=e||"#000",r=t||"#fff";return{colorBgBase:n,colorTextBase:r,colorText:Le(r,.85),colorTextSecondary:Le(r,.65),colorTextTertiary:Le(r,.45),colorTextQuaternary:Le(r,.25),colorFill:Le(r,.18),colorFillSecondary:Le(r,.12),colorFillTertiary:Le(r,.08),colorFillQuaternary:Le(r,.04),colorBgSolid:Le(r,.95),colorBgSolidHover:Le(r,1),colorBgSolidActive:Le(r,.9),colorBgElevated:ht(n,12),colorBgContainer:ht(n,8),colorBgLayout:ht(n,0),colorBgSpotlight:ht(n,26),colorBgBlur:Le(r,.04),colorBorder:ht(n,26),colorBorderSecondary:ht(n,19)}},Ul=(e,t)=>{const n=Object.keys(wa).map(o=>{const a=ao(e[o],{theme:"dark"});return new Array(10).fill(1).reduce((s,i,c)=>(s[`${o}-${c+1}`]=a[c],s[`${o}${c+1}`]=a[c],s),{})}).reduce((o,a)=>(o=Object.assign(Object.assign({},o),a),o),{}),r=t??Qt(e);return Object.assign(Object.assign(Object.assign({},r),n),$a(e,{generateColorPalettes:ql,generateNeutralColorPalettes:Wl}))},Xl=Ul;function Gl(){const[e,t,n]=Da();return{theme:e,token:t,hashId:n}}const Yl={defaultSeed:Sr.token,useToken:Gl,defaultAlgorithm:Qt,darkAlgorithm:Xl,compactAlgorithm:Vl,getDesignToken:zl,defaultConfig:Sr,_internalContext:Ia},Kl=(e,t,n,r)=>{const{titleMarginBottom:o,fontWeightStrong:a}=r;return{marginBottom:o,color:n,fontWeight:a,fontSize:e,lineHeight:t}},Jl=e=>{const t=[1,2,3,4,5],n={};return t.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=Kl(e[`fontSizeHeading${r}`],e[`lineHeightHeading${r}`],e.colorTextHeading,e)}),n},Ql=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},io(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},Zl=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Ta[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),ec=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(r).mul(-1).equal(),marginBottom:`calc(1em - ${j(r)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},tc=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),nc=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),rc=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},Jl(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),Zl(e)),Ql(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},io(e)),{marginInlineStart:e.marginXXS})}),ec(e)),tc(e)),nc()),{"&-rtl":{direction:"rtl"}})}},oc=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),Ao=yt("Typography",e=>[rc(e)],oc),ac=e=>{const{prefixCls:t,"aria-label":n,className:r,style:o,direction:a,maxLength:s,autoSize:i=!0,value:c,onSave:u,onCancel:g,onEnd:d,component:p,enterIcon:f=l.createElement(bl,null)}=e,C=l.useRef(null),h=l.useRef(!1),v=l.useRef(),[S,y]=l.useState(c);l.useEffect(()=>{y(c)},[c]),l.useEffect(()=>{var P;if(!((P=C.current)===null||P===void 0)&&P.resizableTextArea){const{textArea:R}=C.current.resizableTextArea;R.focus();const{length:H}=R.value;R.setSelectionRange(H,H)}},[]);const x=P=>{let{target:R}=P;y(R.value.replace(/[\n\r]/g,""))},E=()=>{h.current=!0},O=()=>{h.current=!1},w=P=>{let{keyCode:R}=P;h.current||(v.current=R)},b=()=>{u(S.trim())},m=P=>{let{keyCode:R,ctrlKey:H,altKey:_,metaKey:L,shiftKey:z}=P;v.current!==R||h.current||H||_||L||z||(R===me.ENTER?(b(),d==null||d()):R===me.ESC&&g())},$=()=>{b()},[D,T,M]=Ao(t),k=G(t,`${t}-edit-content`,{[`${t}-rtl`]:a==="rtl",[`${t}-${p}`]:!!p},r,T,M);return D(l.createElement("div",{className:k,style:o},l.createElement(si,{ref:C,maxLength:s,value:S,onChange:x,onKeyDown:w,onKeyUp:m,onCompositionStart:E,onCompositionEnd:O,onBlur:$,"aria-label":n,rows:1,autoSize:i}),f!==null?Wa(f,{className:`${t}-edit-content-confirm`}):null))},ic=ac;var sc=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},lc=sc,jr={"text/plain":"Text","text/html":"Url",default:"Text"},cc="Copy to clipboard: #{key}, Enter";function uc(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function dc(e,t){var n,r,o,a,s,i,c=!1;t||(t={}),n=t.debug||!1;try{o=lc(),a=document.createRange(),s=document.getSelection(),i=document.createElement("span"),i.textContent=e,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",function(g){if(g.stopPropagation(),t.format)if(g.preventDefault(),typeof g.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=jr[t.format]||jr.default;window.clipboardData.setData(d,e)}else g.clipboardData.clearData(),g.clipboardData.setData(t.format,e);t.onCopy&&(g.preventDefault(),t.onCopy(g.clipboardData))}),document.body.appendChild(i),a.selectNodeContents(i),s.addRange(a);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(g){n&&console.error("unable to copy using execCommand: ",g),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),r=uc("message"in t?t.message:cc),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(a):s.removeAllRanges()),i&&document.body.removeChild(i),o()}return c}var gc=dc;const fc=Ln(gc);var hc=globalThis&&globalThis.__awaiter||function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function i(g){try{u(r.next(g))}catch(d){s(d)}}function c(g){try{u(r.throw(g))}catch(d){s(d)}}function u(g){g.done?a(g.value):o(g.value).then(i,c)}u((r=r.apply(e,t||[])).next())})};const mc=e=>{let{copyConfig:t,children:n}=e;const[r,o]=l.useState(!1),[a,s]=l.useState(!1),i=l.useRef(null),c=()=>{i.current&&clearTimeout(i.current)},u={};t.format&&(u.format=t.format),l.useEffect(()=>c,[]);const g=Ve(d=>hc(void 0,void 0,void 0,function*(){var p;d==null||d.preventDefault(),d==null||d.stopPropagation(),s(!0);try{const f=typeof t.text=="function"?yield t.text():t.text;fc(f||rl(n,!0).join("")||"",u),s(!1),o(!0),c(),i.current=setTimeout(()=>{o(!1)},3e3),(p=t.onCopy)===null||p===void 0||p.call(t,d)}catch(f){throw s(!1),f}}));return{copied:r,copyLoading:a,onClick:g}},pc=mc;function gn(e,t){return l.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&typeof e=="object"?e:null)]},[e])}const vc=e=>{const t=l.useRef();return l.useEffect(()=>{t.current=e}),t.current},bc=vc,Cc=(e,t,n)=>l.useMemo(()=>e===!0?{title:t??n}:l.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??n},e):{title:e},[e,t,n]),yc=Cc;var Sc=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const xc=l.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:o,rootClassName:a,setContentRef:s,children:i,direction:c,style:u}=e,g=Sc(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:p,typography:f}=l.useContext(ct),C=c??p,h=s?Nt(t,s):t,v=d("typography",n),[S,y,x]=Ao(v),E=G(v,f==null?void 0:f.className,{[`${v}-rtl`]:C==="rtl"},o,a,y,x),O=Object.assign(Object.assign({},f==null?void 0:f.style),u);return S(l.createElement(r,Object.assign({className:E,style:O,ref:h},g),i))}),Lo=xc;function zr(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function fn(e,t,n){return e===!0||e===void 0?t:e||n&&t}function Ec(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}const Qn=e=>["string","number"].includes(typeof e),Oc=e=>{let{prefixCls:t,copied:n,locale:r,iconOnly:o,tooltips:a,icon:s,tabIndex:i,onCopy:c,loading:u}=e;const g=zr(a),d=zr(s),{copied:p,copy:f}=r??{},C=n?p:f,h=fn(g[n?1:0],C),v=typeof h=="string"?h:C;return l.createElement(St,{title:h},l.createElement("button",{type:"button",className:G(`${t}-copy`,{[`${t}-copy-success`]:n,[`${t}-copy-icon-only`]:o}),onClick:c,"aria-label":v,tabIndex:i},n?fn(d[1],l.createElement(Ua,null),!0):fn(d[0],u?l.createElement(Wn,null):l.createElement(ll,null),!0)))},wc=Oc,zt=l.forwardRef((e,t)=>{let{style:n,children:r}=e;const o=l.useRef(null);return l.useImperativeHandle(t,()=>({isExceed:()=>{const a=o.current;return a.scrollHeight>a.clientHeight},getHeight:()=>o.current.clientHeight})),l.createElement("span",{"aria-hidden":!0,ref:o,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},n)},r)}),$c=e=>e.reduce((t,n)=>t+(Qn(n)?String(n).length:1),0);function Br(e,t){let n=0;const r=[];for(let o=0;o<e.length;o+=1){if(n===t)return r;const a=e[o],i=Qn(a)?String(a).length:1,c=n+i;if(c>t){const u=t-n;return r.push(String(a).slice(0,u)),r}r.push(a),n=c}return e}const hn=0,mn=1,pn=2,vn=3,Fr=4,Bt={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function Ic(e){const{enableMeasure:t,width:n,text:r,children:o,rows:a,expanded:s,miscDeps:i,onEllipsis:c}=e,u=l.useMemo(()=>ho(r),[r]),g=l.useMemo(()=>$c(u),[r]),d=l.useMemo(()=>o(u,!1),[r]),[p,f]=l.useState(null),C=l.useRef(null),h=l.useRef(null),v=l.useRef(null),S=l.useRef(null),y=l.useRef(null),[x,E]=l.useState(!1),[O,w]=l.useState(hn),[b,m]=l.useState(0),[$,D]=l.useState(null);Xe(()=>{w(t&&n&&g?mn:hn)},[n,r,a,t,u]),Xe(()=>{var P,R,H,_;if(O===mn){w(pn);const L=h.current&&getComputedStyle(h.current).whiteSpace;D(L)}else if(O===pn){const L=!!(!((P=v.current)===null||P===void 0)&&P.isExceed());w(L?vn:Fr),f(L?[0,g]:null),E(L);const z=((R=v.current)===null||R===void 0?void 0:R.getHeight())||0,re=a===1?0:((H=S.current)===null||H===void 0?void 0:H.getHeight())||0,ue=((_=y.current)===null||_===void 0?void 0:_.getHeight())||0,Oe=Math.max(z,re+ue);m(Oe+1),c(L)}},[O]);const T=p?Math.ceil((p[0]+p[1])/2):0;Xe(()=>{var P;const[R,H]=p||[0,0];if(R!==H){const L=(((P=C.current)===null||P===void 0?void 0:P.getHeight())||0)>b;let z=T;H-R===1&&(z=L?R:H),f(L?[R,z]:[z,H])}},[p,T]);const M=l.useMemo(()=>{if(!t)return o(u,!1);if(O!==vn||!p||p[0]!==p[1]){const P=o(u,!1);return[Fr,hn].includes(O)?P:l.createElement("span",{style:Object.assign(Object.assign({},Bt),{WebkitLineClamp:a})},P)}return o(s?u:Br(u,p[0]),x)},[s,O,p,u].concat(Pe(i))),k={width:n,margin:0,padding:0,whiteSpace:$==="nowrap"?"normal":"inherit"};return l.createElement(l.Fragment,null,M,O===pn&&l.createElement(l.Fragment,null,l.createElement(zt,{style:Object.assign(Object.assign(Object.assign({},k),Bt),{WebkitLineClamp:a}),ref:v},d),l.createElement(zt,{style:Object.assign(Object.assign(Object.assign({},k),Bt),{WebkitLineClamp:a-1}),ref:S},d),l.createElement(zt,{style:Object.assign(Object.assign(Object.assign({},k),Bt),{WebkitLineClamp:1}),ref:y},o([],!0))),O===vn&&p&&p[0]!==p[1]&&l.createElement(zt,{style:Object.assign(Object.assign({},k),{top:400}),ref:C},o(Br(u,T),!0)),O===mn&&l.createElement("span",{style:{whiteSpace:"inherit"},ref:h}))}const Dc=e=>{let{enableEllipsis:t,isEllipsis:n,children:r,tooltipProps:o}=e;return!(o!=null&&o.title)||!t?r:l.createElement(St,Object.assign({open:n?void 0:!1},o),r)},Tc=Dc;var Pc=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Nc(e,t){let{mark:n,code:r,underline:o,delete:a,strong:s,keyboard:i,italic:c}=e,u=t;function g(d,p){p&&(u=l.createElement(d,{},u))}return g("strong",s),g("u",o),g("del",a),g("code",r),g("mark",n),g("kbd",i),g("i",c),u}const Mc="...",Rc=l.forwardRef((e,t)=>{var n;const{prefixCls:r,className:o,style:a,type:s,disabled:i,children:c,ellipsis:u,editable:g,copyable:d,component:p,title:f}=e,C=Pc(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:h,direction:v}=l.useContext(ct),[S]=qn("Text"),y=l.useRef(null),x=l.useRef(null),E=h("typography",r),O=Bn(C,["mark","code","delete","underline","strong","keyboard","italic"]),[w,b]=gn(g),[m,$]=qe(!1,{value:b.editing}),{triggerType:D=["icon"]}=b,T=A=>{var V;A&&((V=b.onStart)===null||V===void 0||V.call(b)),$(A)},M=bc(m);Xe(()=>{var A;!m&&M&&((A=x.current)===null||A===void 0||A.focus())},[m]);const k=A=>{A==null||A.preventDefault(),T(!0)},P=A=>{var V;(V=b.onChange)===null||V===void 0||V.call(b,A),T(!1)},R=()=>{var A;(A=b.onCancel)===null||A===void 0||A.call(b),T(!1)},[H,_]=gn(d),{copied:L,copyLoading:z,onClick:re}=pc({copyConfig:_,children:c}),[ue,Oe]=l.useState(!1),[pe,de]=l.useState(!1),[W,X]=l.useState(!1),[oe,ie]=l.useState(!1),[Se,se]=l.useState(!0),[Q,Y]=gn(u,{expandable:!1,symbol:A=>A?S==null?void 0:S.collapse:S==null?void 0:S.expand}),[ge,we]=qe(Y.defaultExpanded||!1,{value:Y.expanded}),Z=Q&&(!ge||Y.expandable==="collapsible"),{rows:Ce=1}=Y,J=l.useMemo(()=>Z&&(Y.suffix!==void 0||Y.onEllipsis||Y.expandable||w||H),[Z,Y,w,H]);Xe(()=>{Q&&!J&&(Oe(xr("webkitLineClamp")),de(xr("textOverflow")))},[J,Q]);const[U,De]=l.useState(Z),Ne=l.useMemo(()=>J?!1:Ce===1?pe:ue,[J,pe,ue]);Xe(()=>{De(Ne&&Z)},[Ne,Z]);const Me=Z&&(U?oe:W),$e=Z&&Ce===1&&U,fe=Z&&Ce>1&&U,Re=(A,V)=>{var _e;we(V.expanded),(_e=Y.onExpand)===null||_e===void 0||_e.call(Y,A,V)},[te,ye]=l.useState(0),He=A=>{let{offsetWidth:V}=A;ye(V)},le=A=>{var V;X(A),W!==A&&((V=Y.onEllipsis)===null||V===void 0||V.call(Y,A))};l.useEffect(()=>{const A=y.current;if(Q&&U&&A){const V=Ec(A);oe!==V&&ie(V)}},[Q,U,c,fe,Se,te]),l.useEffect(()=>{const A=y.current;if(typeof IntersectionObserver>"u"||!A||!U||!Z)return;const V=new IntersectionObserver(()=>{se(!!A.offsetParent)});return V.observe(A),()=>{V.disconnect()}},[U,Z]);const Ie=yc(Y.tooltip,b.text,c),xe=l.useMemo(()=>{if(!(!Q||U))return[b.text,c,f,Ie.title].find(Qn)},[Q,U,f,Ie.title,Me]);if(m)return l.createElement(ic,{value:(n=b.text)!==null&&n!==void 0?n:typeof c=="string"?c:"",onSave:P,onCancel:R,onEnd:b.onEnd,prefixCls:E,className:o,style:a,direction:v,component:p,maxLength:b.maxLength,autoSize:b.autoSize,enterIcon:b.enterIcon});const Ge=()=>{const{expandable:A,symbol:V}=Y;return A?l.createElement("button",{type:"button",key:"expand",className:`${E}-${ge?"collapse":"expand"}`,onClick:_e=>Re(_e,{expanded:!ge}),"aria-label":ge?S.collapse:S==null?void 0:S.expand},typeof V=="function"?V(ge):V):null},Ze=()=>{if(!w)return;const{icon:A,tooltip:V,tabIndex:_e}=b,Ae=ho(V)[0]||(S==null?void 0:S.edit),sn=typeof Ae=="string"?Ae:"";return D.includes("icon")?l.createElement(St,{key:"edit",title:V===!1?"":Ae},l.createElement("button",{type:"button",ref:x,className:`${E}-edit`,onClick:k,"aria-label":sn,tabIndex:_e},A||l.createElement(fl,{role:"button"}))):null},Ot=()=>H?l.createElement(wc,Object.assign({key:"copy"},_,{prefixCls:E,copied:L,locale:S,onCopy:re,loading:z,iconOnly:c==null})):null,dt=A=>[A&&Ge(),Ze(),Ot()],he=A=>[A&&!ge&&l.createElement("span",{"aria-hidden":!0,key:"ellipsis"},Mc),Y.suffix,dt(A)];return l.createElement(Xa,{onResize:He,disabled:!Z},A=>l.createElement(Tc,{tooltipProps:Ie,enableEllipsis:Z,isEllipsis:Me},l.createElement(Lo,Object.assign({className:G({[`${E}-${s}`]:s,[`${E}-disabled`]:i,[`${E}-ellipsis`]:Q,[`${E}-ellipsis-single-line`]:$e,[`${E}-ellipsis-multiple-line`]:fe},o),prefixCls:r,style:Object.assign(Object.assign({},a),{WebkitLineClamp:fe?Ce:void 0}),component:p,ref:Nt(A,y,t),direction:v,onClick:D.includes("text")?k:void 0,"aria-label":xe==null?void 0:xe.toString(),title:f},O),l.createElement(Ic,{enableMeasure:Z&&!U,text:c,rows:Ce,width:te,onEllipsis:le,expanded:ge,miscDeps:[L,ge,z,w,H]},(V,_e)=>Nc(e,l.createElement(l.Fragment,null,V.length>0&&_e&&!ge&&xe?l.createElement("span",{key:"show-content","aria-hidden":!0},V):V,he(_e)))))))}),Zt=Rc;var Hc=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const kc=l.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,o=Hc(e,["ellipsis","rel"]);const a=Object.assign(Object.assign({},o),{rel:r===void 0&&o.target==="_blank"?"noopener noreferrer":r});return delete a.navigate,l.createElement(Zt,Object.assign({},a,{ref:t,ellipsis:!!n,component:"a"}))}),_c=kc,Ac=l.forwardRef((e,t)=>l.createElement(Zt,Object.assign({ref:t},e,{component:"div"}))),Lc=Ac;var jc=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const zc=(e,t)=>{var{ellipsis:n}=e,r=jc(e,["ellipsis"]);const o=l.useMemo(()=>n&&typeof n=="object"?Bn(n,["expandable","rows"]):n,[n]);return l.createElement(Zt,Object.assign({ref:t},r,{ellipsis:o,component:"span"}))},Bc=l.forwardRef(zc);var Fc=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Vc=[1,2,3,4,5],qc=l.forwardRef((e,t)=>{const{level:n=1}=e,r=Fc(e,["level"]),o=Vc.includes(n)?`h${n}`:"h1";return l.createElement(Zt,Object.assign({ref:t},r,{component:o}))}),Wc=qc,Ht=Lo;Ht.Text=Bc;Ht.Link=_c;Ht.Title=Wc;Ht.Paragraph=Lc;const Zn=Ht,Yt=e=>{const t=(e==null?void 0:e.resource)||"post",n=(e==null?void 0:e.dataProvider)||"wp",r=(e==null?void 0:e.pathParams)||[],o=(e==null?void 0:e.args)||void 0,a=(e==null?void 0:e.config)||void 0,s=o?[`get_${t}s`,n,r,o]:[`get_${t}s`,n,r];return Ga(s,async()=>Qa({resource:t,dataProvider:n,pathParams:r,args:o,config:a}),e.queryOptions||{})},{useToken:Uc}=Yl,Xc=()=>{const{token:e}=Uc();return e},xt=Un([]),er=Un([]),en=Un(!1);var Gc=/\s/;function Yc(e){for(var t=e.length;t--&&Gc.test(e.charAt(t)););return t}var Kc=/^\s+/;function Jc(e){return e&&e.slice(0,Yc(e)+1).replace(Kc,"")}var Vr=0/0,Qc=/^[-+]0x[0-9a-f]+$/i,Zc=/^0b[01]+$/i,eu=/^0o[0-7]+$/i,tu=parseInt;function qr(e){if(typeof e=="number")return e;if(Za(e))return Vr;if($n(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$n(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Jc(e);var n=Zc.test(e);return n||eu.test(e)?tu(e.slice(2),n?2:8):Qc.test(e)?Vr:+e}var nu=function(){return ei.Date.now()};const bn=nu;var ru="Expected a function",ou=Math.max,au=Math.min;function iu(e,t,n){var r,o,a,s,i,c,u=0,g=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(ru);t=qr(t)||0,$n(n)&&(g=!!n.leading,d="maxWait"in n,a=d?ou(qr(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function f(w){var b=r,m=o;return r=o=void 0,u=w,s=e.apply(m,b),s}function C(w){return u=w,i=setTimeout(S,t),g?f(w):s}function h(w){var b=w-c,m=w-u,$=t-b;return d?au($,a-m):$}function v(w){var b=w-c,m=w-u;return c===void 0||b>=t||b<0||d&&m>=a}function S(){var w=bn();if(v(w))return y(w);i=setTimeout(S,h(w))}function y(w){return i=void 0,p&&r?f(w):(r=o=void 0,s)}function x(){i!==void 0&&clearTimeout(i),u=0,r=c=o=i=void 0}function E(){return i===void 0?s:y(bn())}function O(){var w=bn(),b=v(w);if(r=arguments,o=this,c=w,b){if(i===void 0)return C(c);if(d)return clearTimeout(i),i=setTimeout(S,t),f(c)}return i===void 0&&(i=setTimeout(S,t)),s}return O.cancel=x,O.flush=E,O}const{Paragraph:su}=Zn,lu=e=>{const t=Yn(e);return F("div",{className:"flex items-start justify-between",children:[F("div",{className:"flex items-start",children:[I("img",{className:"w-8 h-8 object-cover mt-1 mr-2 rounded-md",src:t}),I(su,{ellipsis:!0,style:{width:240},children:(e==null?void 0:e.name)??"未知產品"})]}),I("div",{children:jn(e==null?void 0:e.price_html)})]})},cu=()=>{var w,b;const e=bt(en),[t,n]=Pt(xt),[r,o]=l.useState(void 0),[a,s]=l.useState(void 0),i=Yt({resource:"/product_categories",dataProvider:"power-shop"}),[c,u]=l.useState(void 0),d=(((w=i==null?void 0:i.data)==null?void 0:w.data)??[]).map(m=>({value:m.id,label:(m==null?void 0:m.name)??"未知分類"})),p=m=>{o(m),s(void 0)},f=Yt({resource:"products",dataProvider:"wc",args:{status:"publish",per_page:100,category:r,orderby:"title",order:"asc",search:c},queryOptions:{enabled:!!r}}),h=(((b=f==null?void 0:f.data)==null?void 0:b.data)??[]).filter(m=>m.type==="simple"||m.type==="variable"),v=h.map(m=>{const $=t.some(D=>(D==null?void 0:D.id)===m.id);return{value:m.id,label:lu(m),disabled:$}}),S=m=>{s(m)},y=()=>{const m=h.find($=>$.id===a);m&&(n([...t,m]),e(!0))},x=K.useFormInstance(),E=()=>{const m=h.find($=>$.id===a);if(m){n([m,...t]),e(!0);const $=x.getFieldsValue(),D=Object.values($),T=[{productId:m.id,regularPrice:m.regular_price,salesPrice:m.sale_price,productType:m.type,extraBuyerCount:0},...D];x.setFieldsValue(T)}},O=!a||t.some(m=>(m==null?void 0:m.id)===a);return l.useEffect(()=>{u(void 0)},[r]),F("div",{className:"mb-8",children:[I("p",{className:"mb-2 text-[1rem] font-semibold",children:"選擇要加入的商品"}),F("div",{className:"flex md:flex-row flex-col gap-2",children:[I(wn,{loading:i.isLoading,disabled:i.isLoading,className:"w-full mb-2 md:mb-0",allowClear:!0,size:"large",showSearch:!0,placeholder:"選擇商品分類",optionFilterProp:"children",optionLabelProp:"label",filterOption:(m,$)=>(($==null?void 0:$.label)??"").toLowerCase().includes(m.toLowerCase()),filterSort:(m,$)=>((m==null?void 0:m.label)??"").toLowerCase().localeCompare((($==null?void 0:$.label)??"").toLowerCase()),options:d,onChange:p}),I(wn,{loading:f.isLoading&&!!r,disabled:!r||f.isLoading,className:"w-full mb-2 md:mb-0",allowClear:!0,size:"large",showSearch:!0,value:a,placeholder:"選擇產品",optionFilterProp:"children",options:v,onSearch:m=>{m!==""&&iu(()=>{u(m)},1e3)()},optionLabelProp:"label",onChange:S,filterOption:!1}),F("div",{className:"flex gap-2",children:[I(Xt,{disabled:O,size:"large",type:"primary",className:"mx-0 w-1/2",onClick:y,children:"從底部新增"}),I(Xt,{disabled:O,size:"large",type:"primary",className:"mx-0 w-1/2",onClick:E,children:"從頂部新增"})]})]})]})},uu=l.memo(cu),jo=({productId:e})=>{const[t,n]=Pt(xt),r=bt(en),o=K.useFormInstance();return I(Ya,{className:"text-red-500 text-2xl cursor-pointer",onClick:()=>{const s=t.filter(g=>g.id!==e);n(s),r(!0);const i=o.getFieldsValue(),u=Object.values(i).filter(g=>g.productId!==e);o.setFieldsValue(u)}})},du=(e,t)=>{const n=Number((e==null?void 0:e.salesPrice)??"0"),r=Number((e==null?void 0:e.regularPrice)??"0");return!n&&!r?{salesPrice:Number((t==null?void 0:t.sale_price)??"0"),regularPrice:Number((t==null?void 0:t.regular_price)??"0")}:{salesPrice:n,regularPrice:r}},gu=({product:e,index:t})=>{const n=mo(er),r=(e==null?void 0:e.id)??0,o=n.find(f=>f.productId===r),a=jn((e==null?void 0:e.name)??"未知商品"),s=Yn(e),{salesPrice:i,regularPrice:c}=du(o,e),u=(o==null?void 0:o.extraBuyerCount)||0,g=(e==null?void 0:e.categories)??[],d=(e==null?void 0:e.type)??"",p=K.useFormInstance();return l.useEffect(()=>{const f=p.getFieldsValue(),h=Object.values(f).findIndex(v=>v.productId===r);p.setFieldsValue({[h]:{productId:r,regularPrice:c,salesPrice:i,productType:d,extraBuyerCount:u}})},[r]),F(ot,{children:[F("div",{className:"flex justify-between",children:[F("div",{className:"flex flex-1 mr-4",children:[F("div",{className:"mr-4",children:[I("img",{className:"h-16 w-16 rounded-xl object-cover",src:s}),I("p",{className:"m-0 text-xs text-gray-400",children:bo(d)}),F("p",{className:"m-0 text-xs text-gray-400",children:["ID: #",r]}),F("p",{className:"m-0 text-xs text-gray-400",children:["原價: ",(e==null?void 0:e.regular_price)??""]}),F("p",{className:"m-0 text-xs text-gray-400",children:["特價: ",(e==null?void 0:e.sale_price)??""]})]}),F("div",{className:"flex-1",children:[I(yo,{size:[0,8],wrap:!0,children:g.map(f=>I(So,{color:"#2db7f5",children:f==null?void 0:f.name},f==null?void 0:f.id))}),I("div",{className:"text-[1rem] mt-2 mb-0",children:a}),F("div",{className:"flex",children:[I(K.Item,{name:[t,"productId"],hidden:!0,initialValue:r,children:I(Ct,{})}),I(K.Item,{name:[t,"productType"],hidden:!0,initialValue:d,children:I(Ct,{})}),I(K.Item,{name:[t,"regularPrice"],label:"原價",className:"w-full mr-4",children:I(it,{min:0,className:"w-full"})}),I(K.Item,{name:[t,"salesPrice"],label:"特價",className:"w-full mr-4",children:I(it,{min:0,className:"w-full"})}),I(K.Item,{name:[t,"extraBuyerCount"],label:"灌水購買人數",help:"前台會顯示 真實購買人數 + 灌水購買人數",className:"w-full",hidden:!so,children:I(it,{min:0,className:"w-full"})})]})]})]}),I("div",{className:"flex items-center",children:I(jo,{productId:r})})]}),I("hr",{className:"mb-8"})]})},fu=(e,t)=>{const n=Number((e==null?void 0:e.salesPrice)??"0"),r=Number((e==null?void 0:e.regularPrice)??"0");return!n&&!r?{salesPrice:Number((t==null?void 0:t.sale_price)??"0"),regularPrice:Number((t==null?void 0:t.regular_price)??"0")}:{salesPrice:n,regularPrice:r}},hu=({variation:e,parentIndex:t,parentId:n,index:r,matchProduct:o})=>{var C,h;const a=(e==null?void 0:e.id)??0,s=o?(C=(o==null?void 0:o.variations)??[])==null?void 0:C.find(v=>v.variationId===a):null,c=((e==null?void 0:e.attributes)??[]).map(v=>I("span",{className:"mr-2 font-medium",children:I(St,{title:v==null?void 0:v.name,children:v==null?void 0:v.option})},ti())),u=K.useFormInstance(),g=((h=e==null?void 0:e.image)==null?void 0:h.src)??vo,{salesPrice:d,regularPrice:p}=fu(s,e),f=(s==null?void 0:s.extraBuyerCount)||0;return l.useEffect(()=>{u.setFieldsValue({[t]:{productId:n,variations:{[r]:{variationId:a,regularPrice:p,salesPrice:d,extraBuyerCount:f}}}})},[a,t,r]),I(ot,{children:I("div",{className:"flex justify-between mt-8",children:F("div",{className:"flex flex-1 mr-4",children:[F("div",{className:"mr-4",children:[I("img",{className:"h-16 w-16 rounded-xl object-cover",src:g}),F("p",{className:"m-0 text-xs text-gray-400",children:["ID: #",a]}),F("p",{className:"m-0 text-xs text-gray-400",children:["原價: ",(e==null?void 0:e.regular_price)??""]}),F("p",{className:"m-0 text-xs text-gray-400",children:["特價: ",(e==null?void 0:e.sale_price)??""]})]}),F("div",{className:"flex-1",children:[c,F("div",{className:"flex",children:[I(K.Item,{name:[t,"variations",r,"variationId"],initialValue:a,hidden:!0,children:I(Ct,{})}),I(K.Item,{name:[t,"variations",r,"regularPrice"],label:"原價",className:"w-full mr-4",initialValue:p,children:I(it,{min:0,className:"w-full"})}),I(K.Item,{name:[t,"variations",r,"salesPrice"],label:"特價",className:"w-full mr-4",initialValue:d,children:I(it,{min:0,className:"w-full"})}),I(K.Item,{name:[t,"variations",r,"extraBuyerCount"],label:"灌水購買人數",help:"前台會顯示 真實購買人數 + 灌水購買人數",className:"w-full",hidden:!so,children:I(it,{min:0,className:"w-full"})})]})]})]})})})},mu=({product:e,index:t})=>{var C;const[n,r]=l.useState(!1),o=mo(er),a=(e==null?void 0:e.id)??0,s=o.find(h=>h.productId===a),i=jn((e==null?void 0:e.name)??"未知商品"),c=(e==null?void 0:e.type)??"",u=Yn(e),g=(e==null?void 0:e.categories)??[],d=(e==null?void 0:e.variations)??[],p=Yt({resource:`products/${a}/variations`,args:{per_page:100},dataProvider:"wc",queryOptions:{enabled:d.length>0}}),f=((C=p==null?void 0:p.data)==null?void 0:C.data)??[];return F(ot,{children:[F("div",{className:"flex justify-between",children:[F("div",{className:"flex flex-1 mr-4",children:[F("div",{className:"mr-4",children:[I("img",{className:"h-16 w-16 rounded-xl object-cover",src:u}),I("p",{className:"m-0 text-xs text-gray-400",children:bo(c)}),F("p",{className:"m-0 text-xs text-gray-400",children:["ID: #",a]})]}),F("div",{className:"flex-1",children:[I(yo,{size:[0,8],wrap:!0,children:g.map(h=>I(So,{color:"#2db7f5",children:h==null?void 0:h.name},h==null?void 0:h.id))}),I("div",{className:"text-[1rem] mt-2 mb-0",children:i}),I("div",{className:"flex",children:F("span",{className:"underline text-blue-500 cursor-pointer mt-2 mb-4",onClick:()=>r(!n),children:[n?I(ni,{className:"mr-1"}):I(ri,{className:"mr-1"}),n?"收起":"展開"]})})]})]}),I("div",{className:"flex items-center",children:I(jo,{productId:a})})]}),I(K.Item,{name:[t,"productId"],initialValue:a,hidden:!0,children:I(Ct,{})}),I(K.Item,{name:[t,"productType"],hidden:!0,initialValue:c,children:I(Ct,{})}),I("div",{className:`pl-20 pr-8 ${n?"block":"tw-hidden"}`,children:f.map((h,v)=>I(hu,{variation:h,parentIndex:t,parentId:a,index:v,matchProduct:s},h==null?void 0:h.id))}),I("hr",{className:"mt-4 mb-8"})]})},zo=l.createContext({dragDropManager:void 0});function je(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Wr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Cn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ur={INIT:"@@redux/INIT"+Cn(),REPLACE:"@@redux/REPLACE"+Cn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Cn()}};function pu(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Bo(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(je(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(je(1));return n(Bo)(e,t)}if(typeof e!="function")throw new Error(je(2));var o=e,a=t,s=[],i=s,c=!1;function u(){i===s&&(i=s.slice())}function g(){if(c)throw new Error(je(3));return a}function d(h){if(typeof h!="function")throw new Error(je(4));if(c)throw new Error(je(5));var v=!0;return u(),i.push(h),function(){if(v){if(c)throw new Error(je(6));v=!1,u();var y=i.indexOf(h);i.splice(y,1),s=null}}}function p(h){if(!pu(h))throw new Error(je(7));if(typeof h.type>"u")throw new Error(je(8));if(c)throw new Error(je(9));try{c=!0,a=o(a,h)}finally{c=!1}for(var v=s=i,S=0;S<v.length;S++){var y=v[S];y()}return h}function f(h){if(typeof h!="function")throw new Error(je(10));o=h,p({type:Ur.REPLACE})}function C(){var h,v=d;return h={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(je(11));function x(){y.next&&y.next(g())}x();var E=v(x);return{unsubscribe:E}}},h[Wr]=function(){return this},h}return p({type:Ur.INIT}),r={dispatch:p,subscribe:d,getState:g,replaceReducer:f},r[Wr]=C,r}function q(e,t,...n){if(vu()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(t.replace(/%s/g,function(){return n[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function vu(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function bu(e,t,n){return t.split(".").reduce((r,o)=>r&&r[o]?r[o]:n||null,e)}function Cu(e,t){return e.filter(n=>n!==t)}function Fo(e){return typeof e=="object"}function yu(e,t){const n=new Map,r=a=>{n.set(a,n.has(a)?n.get(a)+1:1)};e.forEach(r),t.forEach(r);const o=[];return n.forEach((a,s)=>{a===1&&o.push(s)}),o}function Su(e,t){return e.filter(n=>t.indexOf(n)>-1)}const tr="dnd-core/INIT_COORDS",tn="dnd-core/BEGIN_DRAG",nr="dnd-core/PUBLISH_DRAG_SOURCE",nn="dnd-core/HOVER",rn="dnd-core/DROP",on="dnd-core/END_DRAG";function Xr(e,t){return{type:tr,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const xu={type:tr,payload:{clientOffset:null,sourceClientOffset:null}};function Eu(e){return function(n=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:a,getSourceClientOffset:s}=r,i=e.getMonitor(),c=e.getRegistry();e.dispatch(Xr(a)),Ou(n,i,c);const u=Iu(n,i);if(u==null){e.dispatch(xu);return}let g=null;if(a){if(!s)throw new Error("getSourceClientOffset must be defined");wu(s),g=s(u)}e.dispatch(Xr(a,g));const p=c.getSource(u).beginDrag(i,u);if(p==null)return;$u(p),c.pinSource(u);const f=c.getSourceType(u);return{type:tn,payload:{itemType:f,item:p,sourceId:u,clientOffset:a||null,sourceClientOffset:g||null,isSourcePublic:!!o}}}}function Ou(e,t,n){q(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){q(n.getSource(r),"Expected sourceIds to be registered.")})}function wu(e){q(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function $u(e){q(Fo(e),"Item must be an object.")}function Iu(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Du(e,o,n[o])})}return e}function Pu(e){return function(n={}){const r=e.getMonitor(),o=e.getRegistry();Nu(r),Hu(r).forEach((s,i)=>{const c=Mu(s,i,o,r),u={type:rn,payload:{dropResult:Tu({},n,c)}};e.dispatch(u)})}}function Nu(e){q(e.isDragging(),"Cannot call drop while not dragging."),q(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Mu(e,t,n,r){const o=n.getTarget(e);let a=o?o.drop(r,e):void 0;return Ru(a),typeof a>"u"&&(a=t===0?{}:r.getDropResult()),a}function Ru(e){q(typeof e>"u"||Fo(e),"Drop result must either be an object or undefined.")}function Hu(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function ku(e){return function(){const n=e.getMonitor(),r=e.getRegistry();_u(n);const o=n.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(n,o),r.unpinSource()),{type:on}}}function _u(e){q(e.isDragging(),"Cannot call endDrag while not dragging.")}function Tn(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function Au(e){return function(n,{clientOffset:r}={}){Lu(n);const o=n.slice(0),a=e.getMonitor(),s=e.getRegistry(),i=a.getItemType();return zu(o,s,i),ju(o,a,s),Bu(o,a,s),{type:nn,payload:{targetIds:o,clientOffset:r||null}}}}function Lu(e){q(Array.isArray(e),"Expected targetIds to be an array.")}function ju(e,t,n){q(t.isDragging(),"Cannot call hover while not dragging."),q(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const o=e[r];q(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const a=n.getTarget(o);q(a,"Expected targetIds to be registered.")}}function zu(e,t,n){for(let r=e.length-1;r>=0;r--){const o=e[r],a=t.getTargetType(o);Tn(a,n)||e.splice(r,1)}}function Bu(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function Fu(e){return function(){if(e.getMonitor().isDragging())return{type:nr}}}function Vu(e){return{beginDrag:Eu(e),publishDragSource:Fu(e),hover:Au(e),drop:Pu(e),endDrag:ku(e)}}class qu{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(a){return(...s)=>{const i=a.apply(t,s);typeof i<"u"&&n(i)}}const o=Vu(this);return Object.keys(o).reduce((a,s)=>{const i=o[s];return a[s]=r(i),a},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function Wu(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Vo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uu(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:Vo(Wu(t,r),n)}function Xu(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:Vo(t,n)}const It=[],rr=[];It.__IS_NONE__=!0;rr.__IS_ALL__=!0;function Gu(e,t){return e===It?!1:e===rr||typeof t>"u"?!0:Su(t,e).length>0}class Yu{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;q(typeof t=="function","listener must be a function."),q(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const a=()=>{const s=this.store.getState(),i=s.stateId;try{i===o||i===o+1&&!Gu(s.dirtyHandlerIds,r)||t()}finally{o=i}};return this.store.subscribe(a)}subscribeToOffsetChange(t){q(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return q(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(q(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),o=this.getItemType();return Tn(r,o)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(q(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),o=this.getItemType();return r!==o?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(t),a=this.getItemType();if(a&&!Tn(o,a))return!1;const s=this.getTargetIds();if(!s.length)return!1;const i=s.indexOf(t);return r?i===s.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Uu(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Xu(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const Gr=typeof global<"u"?global:self,qo=Gr.MutationObserver||Gr.WebKitMutationObserver;function Wo(e){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),e()}}}function Ku(e){let t=1;const n=new qo(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const Ju=typeof qo=="function"?Ku:Wo;class Qu{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,o=t.length-this.index;r<o;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Ju(this.flush),this.requestErrorThrow=Wo(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Zu{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class ed{create(t){const n=this.freeTasks,r=n.length?n.pop():new Zu(this.onError,o=>n[n.length]=o);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Uo=new Qu,td=new ed(Uo.registerPendingError);function nd(e){Uo.enqueueTask(td.create(e))}const or="dnd-core/ADD_SOURCE",ar="dnd-core/ADD_TARGET",ir="dnd-core/REMOVE_SOURCE",an="dnd-core/REMOVE_TARGET";function rd(e){return{type:or,payload:{sourceId:e}}}function od(e){return{type:ar,payload:{targetId:e}}}function ad(e){return{type:ir,payload:{sourceId:e}}}function id(e){return{type:an,payload:{targetId:e}}}function sd(e){q(typeof e.canDrag=="function","Expected canDrag to be a function."),q(typeof e.beginDrag=="function","Expected beginDrag to be a function."),q(typeof e.endDrag=="function","Expected endDrag to be a function.")}function ld(e){q(typeof e.canDrop=="function","Expected canDrop to be a function."),q(typeof e.hover=="function","Expected hover to be a function."),q(typeof e.drop=="function","Expected beginDrag to be a function.")}function Pn(e,t){if(t&&Array.isArray(e)){e.forEach(n=>Pn(n,!1));return}q(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var ze;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(ze||(ze={}));let cd=0;function ud(){return cd++}function dd(e){const t=ud().toString();switch(e){case ze.SOURCE:return`S${t}`;case ze.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Yr(e){switch(e[0]){case"S":return ze.SOURCE;case"T":return ze.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Kr(e,t){const n=e.entries();let r=!1;do{const{done:o,value:[,a]}=n.next();if(a===t)return!0;r=!!o}while(!r);return!1}class gd{addSource(t,n){Pn(t),sd(n);const r=this.addHandler(ze.SOURCE,t,n);return this.store.dispatch(rd(r)),r}addTarget(t,n){Pn(t,!0),ld(n);const r=this.addHandler(ze.TARGET,t,n);return this.store.dispatch(od(r)),r}containsHandler(t){return Kr(this.dragSources,t)||Kr(this.dropTargets,t)}getSource(t,n=!1){return q(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return q(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return q(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return q(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Yr(t)===ze.SOURCE}isTargetId(t){return Yr(t)===ze.TARGET}removeSource(t){q(this.getSource(t),"Expected an existing source."),this.store.dispatch(ad(t)),nd(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){q(this.getTarget(t),"Expected an existing target."),this.store.dispatch(id(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);q(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){q(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const o=dd(t);return this.types.set(o,n),t===ze.SOURCE?this.dragSources.set(o,r):t===ze.TARGET&&this.dropTargets.set(o,r),o}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const fd=(e,t)=>e===t;function hd(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function md(e,t,n=fd){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function pd(e=It,t){switch(t.type){case nn:break;case or:case ar:case an:case ir:return It;case tn:case nr:case on:case rn:default:return rr}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,o=yu(n,r);if(!(o.length>0||!md(n,r)))return It;const s=r[r.length-1],i=n[n.length-1];return s!==i&&(s&&o.push(s),i&&o.push(i)),o}function vd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){vd(e,o,n[o])})}return e}const Jr={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Cd(e=Jr,t){const{payload:n}=t;switch(t.type){case tr:case tn:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case nn:return hd(e.clientOffset,n.clientOffset)?e:bd({},e,{clientOffset:n.clientOffset});case on:case rn:return Jr;default:return e}}function yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){yd(e,o,n[o])})}return e}const Sd={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function xd(e=Sd,t){const{payload:n}=t;switch(t.type){case tn:return mt({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case nr:return mt({},e,{isSourcePublic:!0});case nn:return mt({},e,{targetIds:n.targetIds});case an:return e.targetIds.indexOf(n.targetId)===-1?e:mt({},e,{targetIds:Cu(e.targetIds,n.targetId)});case rn:return mt({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case on:return mt({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Ed(e=0,t){switch(t.type){case or:case ar:return e+1;case ir:case an:return e-1;default:return e}}function Od(e=0){return e+1}function wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){wd(e,o,n[o])})}return e}function Id(e={},t){return{dirtyHandlerIds:pd(e.dirtyHandlerIds,{type:t.type,payload:$d({},t.payload,{prevTargetIds:bu(e,"dragOperation.targetIds",[])})}),dragOffset:Cd(e.dragOffset,t),refCount:Ed(e.refCount,t),dragOperation:xd(e.dragOperation,t),stateId:Od(e.stateId)}}function Dd(e,t=void 0,n={},r=!1){const o=Td(r),a=new Yu(o,new gd(o)),s=new qu(o,a),i=e(s,t,n);return s.receiveBackend(i),s}function Td(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Bo(Id,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Pd(e,t){if(e==null)return{};var n=Nd(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nd(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}let Qr=0;const Wt=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Md=l.memo(function(t){var{children:n}=t,r=Pd(t,["children"]);const[o,a]=Rd(r);return l.useEffect(()=>{if(a){const s=Xo();return++Qr,()=>{--Qr===0&&(s[Wt]=null)}}},[]),I(zo.Provider,{value:o,children:n})});function Rd(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=Hd(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function Hd(e,t=Xo(),n,r){const o=t;return o[Wt]||(o[Wt]={dragDropManager:Dd(e,t,n,r)}),o[Wt]}function Xo(){return typeof global<"u"?global:window}var kd=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;o--!==0;){var s=a[o];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const _d=Ln(kd),lt=typeof window<"u"?l.useLayoutEffect:l.useEffect;function Ad(e,t,n){const[r,o]=l.useState(()=>t(e)),a=l.useCallback(()=>{const s=t(e);_d(r,s)||(o(s),n&&n())},[r,e,n]);return lt(a),[r,a]}function Ld(e,t,n){const[r,o]=Ad(e,t,n);return lt(function(){const s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(o,{handlerIds:[s]})},[e,o]),r}function Go(e,t,n){return Ld(t,e||(()=>({})),()=>n.reconnect())}function Yo(e,t){const n=[...t||[]];return t==null&&typeof e!="function"&&n.push(e),l.useMemo(()=>typeof e=="function"?e():e,n)}function jd(e){return l.useMemo(()=>e.hooks.dragSource(),[e])}function zd(e){return l.useMemo(()=>e.hooks.dragPreview(),[e])}let yn=!1,Sn=!1;class Bd{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){q(!yn,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return yn=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{yn=!1}}isDragging(){if(!this.sourceId)return!1;q(!Sn,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Sn=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Sn=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let xn=!1;class Fd{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;q(!xn,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return xn=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{xn=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function Vd(e,t,n){const r=n.getRegistry(),o=r.addTarget(e,t);return[o,()=>r.removeTarget(o)]}function qd(e,t,n){const r=n.getRegistry(),o=r.addSource(e,t);return[o,()=>r.removeSource(o)]}function Nn(e,t,n,r){let o=n?n.call(r,e,t):void 0;if(o!==void 0)return!!o;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;const i=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<a.length;c++){const u=a[c];if(!i(u))return!1;const g=e[u],d=t[u];if(o=n?n.call(r,g,d,u):void 0,o===!1||o===void 0&&g!==d)return!1}return!0}function Mn(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Wd(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Ud(e){return(t=null,n=null)=>{if(!l.isValidElement(t)){const a=t;return e(a,n),a}const r=t;return Wd(r),Xd(r,n?a=>e(a,n):e)}}function Ko(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const o=Ud(r);t[n]=()=>o}}),t}function Zr(e,t){typeof e=="function"?e(t):e.current=t}function Xd(e,t){const n=e.ref;return q(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?l.cloneElement(e,{ref:r=>{Zr(n,r),Zr(t,r)}}):l.cloneElement(e,{ref:t})}class Gd{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Nn(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Nn(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Ko({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Mn(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Mn(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Yd{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Nn(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Ko({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Mn(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Et(){const{dragDropManager:e}=l.useContext(zo);return q(e!=null,"Expected drag drop context"),e}function Kd(e,t){const n=Et(),r=l.useMemo(()=>new Gd(n.getBackend()),[n]);return lt(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),lt(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function Jd(){const e=Et();return l.useMemo(()=>new Bd(e),[e])}class Qd{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,o=this.monitor,{isDragging:a}=r;return a?a(o):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:o}=t;o&&o(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function Zd(e,t,n){const r=l.useMemo(()=>new Qd(e,t,n),[t,n]);return l.useEffect(()=>{r.spec=e},[e]),r}function eg(e){return l.useMemo(()=>{const t=e.type;return q(t!=null,"spec.type must be defined"),t},[e])}function tg(e,t,n){const r=Et(),o=Zd(e,t,n),a=eg(e);lt(function(){if(a!=null){const[i,c]=qd(a,o,r);return t.receiveHandlerId(i),n.receiveHandlerId(i),c}},[r,t,n,o,a])}function ng(e,t){const n=Yo(e,t);q(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Jd(),o=Kd(n.options,n.previewOptions);return tg(n,r,o),[Go(n.collect,r,o),jd(o),zd(o)]}function rg(e){return l.useMemo(()=>e.hooks.dropTarget(),[e])}function og(e){const t=Et(),n=l.useMemo(()=>new Yd(t.getBackend()),[t]);return lt(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function ag(){const e=Et();return l.useMemo(()=>new Fd(e),[e])}function ig(e){const{accept:t}=e;return l.useMemo(()=>(q(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class sg{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function lg(e,t){const n=l.useMemo(()=>new sg(e,t),[t]);return l.useEffect(()=>{n.spec=e},[e]),n}function cg(e,t,n){const r=Et(),o=lg(e,t),a=ig(e);lt(function(){const[i,c]=Vd(a,o,r);return t.receiveHandlerId(i),n.receiveHandlerId(i),c},[r,t,o,n,a.map(s=>s.toString()).join("|")])}function ug(e,t){const n=Yo(e,t),r=ag(),o=og(n.options);return cg(n,r,o),[Go(n.collect,r,o),rg(o)]}const dg={marginBottom:".5rem",cursor:"move"},eo={CARD:"card"},gg=({product:e,index:t,moveCard:n})=>{const r=(e==null?void 0:e.id)??0,o=l.useRef(null),[{handlerId:a},s]=ug({accept:eo.CARD,collect(d){return{handlerId:d.getHandlerId()}},hover(d,p){var x;if(!o.current)return;const f=d.index,C=t;if(f===C)return;const h=(x=o.current)==null?void 0:x.getBoundingClientRect(),v=(h.bottom-h.top)/2,y=p.getClientOffset().y-h.top;f<C&&y<v||f>C&&y>v||(n(f,C),d.index=C)}}),[{isDragging:i},c]=ng({type:eo.CARD,item:()=>({id:r,index:t}),collect:d=>({isDragging:d.isDragging()})}),u=i?0:1;c(s(o));const g=(e==null?void 0:e.type)??"";return F("div",{ref:o,style:{...dg,opacity:u},"data-handler-id":a,children:[g==="simple"&&I(gu,{product:e,index:t}),g==="variable"&&I(mu,{product:e,index:t})]})},fg=()=>F("div",{className:"w-full h-full backdrop-blur-sm z-50 absolute top-0 left-0 flex flex-col items-center justify-center",children:[I(Wn,{className:"text-[3rem]"}),I("p",{className:"tracking-wider mt-4",children:"LOADING..."})]}),hg=({ratio:e="aspect-video"})=>I("div",{className:`${e}  bg-slate-300 animate-pulse rounded-lg py-[21px] pl-[28px] pr-6 relative mb-[10px]`}),Jo=e=>{const t=bt(en),{mutate:n,isLoading:r}=Xn({resource:zn,dataProvider:"wp",pathParams:[vt],mutationOptions:{onSuccess:()=>{Be.success({message:"Power Shop 儲存成功"}),t(!1),Be.destroy("saveNotification")},onError:a=>{console.log("Error",a),Be.error({message:"儲存失敗"})}}});return{handleSave:async()=>{const a=await Gn({form:e});n({meta:{[`${Qe}_meta`]:JSON.stringify(a)}})},isLoading:r}},mg=e=>{const t=K.useFormInstance(),{handleSave:n,isLoading:r}=Jo(t);return I(ot,{children:I(St,{title:"按此儲存按鈕才會儲存商品資料",children:I(Xt,{...e,onClick:n,loading:r,children:"儲存"})})})};function Qo(e){let t=null;return()=>(t==null&&(t=e()),t)}function pg(e,t){return e.filter(n=>n!==t)}function vg(e,t){const n=new Set,r=a=>n.add(a);e.forEach(r),t.forEach(r);const o=[];return n.forEach(a=>o.push(a)),o}class bg{enter(t){const n=this.entered.length,r=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(t));return this.entered=vg(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=pg(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Cg{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];o!=null&&(n[r]={value:o(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Zo="__NATIVE_FILE__",ea="__NATIVE_URL__",ta="__NATIVE_TEXT__",na="__NATIVE_HTML__",to=Object.freeze(Object.defineProperty({__proto__:null,FILE:Zo,HTML:na,TEXT:ta,URL:ea},Symbol.toStringTag,{value:"Module"}));function En(e,t,n){const r=t.reduce((o,a)=>o||e.getData(a),"");return r??n}const Rn={[Zo]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[na]:{exposeProperties:{html:(e,t)=>En(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[ea]:{exposeProperties:{urls:(e,t)=>En(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[ta]:{exposeProperties:{text:(e,t)=>En(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function yg(e,t){const n=Rn[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new Cg(n);return r.loadDataTransfer(t),r}function On(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Rn).filter(n=>{const r=Rn[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(o=>t.indexOf(o)>-1):!1})[0]||null}const Sg=Qo(()=>/firefox/i.test(navigator.userAgent)),ra=Qo(()=>!!window.safari);class no{interpolate(t){const{xs:n,ys:r,c1s:o,c2s:a,c3s:s}=this;let i=n.length-1;if(t===n[i])return r[i];let c=0,u=s.length-1,g;for(;c<=u;){g=Math.floor(.5*(c+u));const f=n[g];if(f<t)c=g+1;else if(f>t)u=g-1;else return r[g]}i=Math.max(0,u);const d=t-n[i],p=d*d;return r[i]+o[i]*d+a[i]*p+s[i]*d*p}constructor(t,n){const{length:r}=t,o=[];for(let f=0;f<r;f++)o.push(f);o.sort((f,C)=>t[f]<t[C]?-1:1);const a=[],s=[];let i,c;for(let f=0;f<r-1;f++)i=t[f+1]-t[f],c=n[f+1]-n[f],a.push(i),s.push(c/i);const u=[s[0]];for(let f=0;f<a.length-1;f++){const C=s[f],h=s[f+1];if(C*h<=0)u.push(0);else{i=a[f];const v=a[f+1],S=i+v;u.push(3*S/((S+v)/C+(S+i)/h))}}u.push(s[s.length-1]);const g=[],d=[];let p;for(let f=0;f<u.length-1;f++){p=s[f];const C=u[f],h=1/a[f],v=C+u[f+1]-p-p;g.push((p-C-v)*h),d.push(v*h*h)}this.xs=t,this.ys=n,this.c1s=u,this.c2s=g,this.c3s=d}}const xg=1;function oa(e){const t=e.nodeType===xg?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Ft(e){return{x:e.clientX,y:e.clientY}}function Eg(e){var t;return e.nodeName==="IMG"&&(Sg()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Og(e,t,n,r){let o=e?t.width:n,a=e?t.height:r;return ra()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}function wg(e,t,n,r,o){const a=Eg(t),i=oa(a?e:t),c={x:n.x-i.x,y:n.y-i.y},{offsetWidth:u,offsetHeight:g}=e,{anchorX:d,anchorY:p}=r,{dragPreviewWidth:f,dragPreviewHeight:C}=Og(a,t,u,g),h=()=>{let w=new no([0,.5,1],[c.y,c.y/g*C,c.y+C-g]).interpolate(p);return ra()&&a&&(w+=(window.devicePixelRatio-1)*C),w},v=()=>new no([0,.5,1],[c.x,c.x/u*f,c.x+f-u]).interpolate(d),{offsetX:S,offsetY:y}=o,x=S===0||S,E=y===0||y;return{x:x?S:v(),y:E?y:h()}}class $g{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function Ig(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Ig(e,o,n[o])})}return e}class Dg{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const o=s=>this.handleDragStart(s,t),a=s=>this.handleSelectStart(s);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",a),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=s=>this.handleDragEnter(s,t),o=s=>this.handleDragOver(s,t),a=s=>this.handleDrop(s,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",o),n.addEventListener("drop",a),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",o),n.removeEventListener("drop",a)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return ro({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return ro({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(to).some(n=>to[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=yg(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&oa(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const s=Ft(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:i}=o,c=On(i);if(this.monitor.isDragging()){if(i&&typeof i.setDragImage=="function"){const g=this.monitor.getSourceId(),d=this.sourceNodes.get(g),p=this.sourcePreviewNodes.get(g)||d;if(p){const{anchorX:f,anchorY:C,offsetX:h,offsetY:v}=this.getCurrentSourcePreviewNodeOptions(),x=wg(d,p,s,{anchorX:f,anchorY:C},{offsetX:h,offsetY:v});i.setDragImage(p,x.x,x.y)}}try{i==null||i.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(i&&!i.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:i}=o,c=On(i);c&&this.beginDragNativeItem(c,i)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,a.length>0&&this.actions.hover(a,{clientOffset:Ft(o)}),a.some(i=>this.monitor.canDropOnTarget(i))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Ft(o),this.scheduleHover(a),(a||[]).some(i=>this.monitor.canDropOnTarget(i))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;o.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}else On(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:Ft(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))},this.options=new $g(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new bg(this.isNodeInDocument)}}const Tg=function(t,n,r){return new Dg(t,n,r)};var Hn={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function n(b){return typeof b=="object"&&!("toString"in b)?Object.prototype.toString.call(b).slice(8,-1):b}var r=typeof process=="object"&&!0;function o(b,m){if(!b)throw r?new Error("Invariant failed"):new Error(m())}t.invariant=o;var a=Object.prototype.hasOwnProperty,s=Array.prototype.splice,i=Object.prototype.toString;function c(b){return i.call(b).slice(8,-1)}var u=Object.assign||function(b,m){return g(m).forEach(function($){a.call(m,$)&&(b[$]=m[$])}),b},g=typeof Object.getOwnPropertySymbols=="function"?function(b){return Object.keys(b).concat(Object.getOwnPropertySymbols(b))}:function(b){return Object.keys(b)};function d(b){return Array.isArray(b)?u(b.constructor(b.length),b):c(b)==="Map"?new Map(b):c(b)==="Set"?new Set(b):b&&typeof b=="object"?u(Object.create(Object.getPrototypeOf(b)),b):b}var p=function(){function b(){this.commands=u({},f),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(m,$){return m===$},this.update.newContext=function(){return new b().update}}return Object.defineProperty(b.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(m){this.update.isEquals=m},enumerable:!0,configurable:!0}),b.prototype.extend=function(m,$){this.commands[m]=$},b.prototype.update=function(m,$){var D=this,T=typeof $=="function"?{$apply:$}:$;Array.isArray(m)&&Array.isArray(T)||o(!Array.isArray(T),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),o(typeof T=="object"&&T!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(D.commands).join(", ")+".")});var M=m;return g(T).forEach(function(k){if(a.call(D.commands,k)){var P=m===M;M=D.commands[k](T[k],M,T,m),P&&D.isEquals(M,m)&&(M=m)}else{var R=c(m)==="Map"?D.update(m.get(k),T[k]):D.update(m[k],T[k]),H=c(M)==="Map"?M.get(k):M[k];(!D.isEquals(R,H)||typeof R>"u"&&!a.call(m,k))&&(M===m&&(M=d(m)),c(M)==="Map"?M.set(k,R):M[k]=R)}}),M},b}();t.Context=p;var f={$push:function(b,m,$){return h(m,$,"$push"),b.length?m.concat(b):m},$unshift:function(b,m,$){return h(m,$,"$unshift"),b.length?b.concat(m):m},$splice:function(b,m,$,D){return S(m,$),b.forEach(function(T){y(T),m===D&&T.length&&(m=d(D)),s.apply(m,T)}),m},$set:function(b,m,$){return E($),b},$toggle:function(b,m){v(b,"$toggle");var $=b.length?d(m):m;return b.forEach(function(D){$[D]=!m[D]}),$},$unset:function(b,m,$,D){return v(b,"$unset"),b.forEach(function(T){Object.hasOwnProperty.call(m,T)&&(m===D&&(m=d(D)),delete m[T])}),m},$add:function(b,m,$,D){return w(m,"$add"),v(b,"$add"),c(m)==="Map"?b.forEach(function(T){var M=T[0],k=T[1];m===D&&m.get(M)!==k&&(m=d(D)),m.set(M,k)}):b.forEach(function(T){m===D&&!m.has(T)&&(m=d(D)),m.add(T)}),m},$remove:function(b,m,$,D){return w(m,"$remove"),v(b,"$remove"),b.forEach(function(T){m===D&&m.has(T)&&(m=d(D)),m.delete(T)}),m},$merge:function(b,m,$,D){return O(m,b),g(b).forEach(function(T){b[T]!==m[T]&&(m===D&&(m=d(D)),m[T]=b[T])}),m},$apply:function(b,m){return x(b),b(m)}},C=new p;t.isEquals=C.update.isEquals,t.extend=C.extend,t.default=C.update,t.default.default=e.exports=u(t.default,t);function h(b,m,$){o(Array.isArray(b),function(){return"update(): expected target of "+n($)+" to be an array; got "+n(b)+"."}),v(m[$],$)}function v(b,m){o(Array.isArray(b),function(){return"update(): expected spec of "+n(m)+" to be an array; got "+n(b)+". Did you forget to wrap your parameter in an array?"})}function S(b,m){o(Array.isArray(b),function(){return"Expected $splice target to be an array; got "+n(b)}),y(m.$splice)}function y(b){o(Array.isArray(b),function(){return"update(): expected spec of $splice to be an array of arrays; got "+n(b)+". Did you forget to wrap your parameters in an array?"})}function x(b){o(typeof b=="function",function(){return"update(): expected spec of $apply to be a function; got "+n(b)+"."})}function E(b){o(Object.keys(b).length===1,function(){return"Cannot have more than one key in an object with $set"})}function O(b,m){o(m&&typeof m=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+n(m)}),o(b&&typeof b=="object",function(){return"update(): $merge expects a target of type 'object'; got "+n(b)})}function w(b,m){var $=c(b);o($==="Map"||$==="Set",function(){return"update(): "+n(m)+" expects a target of type Set or Map; got "+n($)})}})(Hn,Hn.exports);var Pg=Hn.exports;const oo=Ln(Pg),{Paragraph:Ng}=Zn,Mg=({isLoading:e,settings:t})=>{const n=K.useFormInstance(),r=K.useWatch(["startTime"],n),o=K.useWatch(["endTime"],n),{colorBorder:a}=Xc(),s=t!=null&&t.startTime?Gt(t==null?void 0:t.startTime):null,i=t!=null&&t.endTime?Gt(t==null?void 0:t.endTime):null;return F(ot,{children:[I("p",{className:"text-lg",children:"設定開站時間"}),I(xo,{message:"使用方法",description:F(ot,{children:[F("div",{className:"flex",children:["將"," ",I(Ng,{className:"mx-3",copyable:!0,children:"[power_shop_countdown]"})," ","shortcode 貼到你想放置的地方 (🚩僅在 powershop 頁面有效)"]}),F("ol",{children:[F("li",{children:["[開始時間] & [結束時間] ",I("b",{children:" 可設定也可不設定"})]}),F("li",{children:["如果設定 [結束時間] & [結束時間]，則商店只有在",I("b",{children:" 期間內可以使用"})]}),F("li",{children:["若沒有設定 [結束時間]，則為",I("b",{children:" 永久開站"})]}),F("li",{children:["[開始時間] 可以不設定，如果設定時間點在未來，則為",I("b",{children:" 預約開站"})]})]})]}),type:"info",showIcon:!0}),e?I(oi,{width:"w-full",height:"h-[2rem]",className:"my-8"}):F("div",{className:"flex justify-between my-8 rounded-md w-full",style:{border:`1px solid ${a}`},children:[I(K.Item,{name:["startTime"],noStyle:!0,className:"m-0",initialValue:s,children:I(Er,{disabledDate:wr({type:"startTime",watchStartTime:r,watchEndTime:o}),disabledTime:Or({type:"startTime",watchStartTime:r,watchEndTime:o}),showTime:{format:"HH:mm",hideDisabledOptions:!1},format:"YYYY/MM/DD  HH:mm",placeholder:"開始時間",bordered:!1})}),I(li,{className:"mx-4"}),I(K.Item,{name:["endTime"],noStyle:!0,className:"m-0",initialValue:i,children:I(Er,{disabledDate:wr({type:"endTime",watchStartTime:r,watchEndTime:o}),disabledTime:Or({type:"endTime",watchStartTime:r,watchEndTime:o}),showTime:{format:"HH:mm",hideDisabledOptions:!1},format:"YYYY/MM/DD  HH:mm",placeholder:"結束時間",bordered:!1})})]})]})},Rg=({isLoading:e,settings:t})=>{const n=K.useFormInstance();return l.useEffect(()=>{e||n.setFieldsValue({btnColor:t==null?void 0:t.btnColor,showConfetti:(t==null?void 0:t.showConfetti)??!0,showStock:(t==null?void 0:t.showStock)??!0,showBuyerCount:(t==null?void 0:t.showBuyerCount)??!0,enableVirtualList:(t==null?void 0:t.enableVirtualList)??!1})},[e]),F(ot,{children:[I(K.Item,{name:["btnColor"],label:"按鈕顏色",children:I(nl,{size:"small",showText:!0})}),I(K.Item,{name:["showConfetti"],label:"加入購物車啟用煙火效果",valuePropName:"checked",children:I(jt,{size:"small"})}),I(K.Item,{name:["showStock"],label:"顯示庫存資訊",valuePropName:"checked",children:I(jt,{size:"small"})}),I(K.Item,{name:["showBuyerCount"],label:"顯示有多少人購買過此商品",valuePropName:"checked",children:I(jt,{size:"small"})}),I(K.Item,{name:["enableVirtualList"],label:"啟用虛擬列表",help:"如果你的 Power Shop 包含非常大量的商品(ex 超過20個)的話，建議開啟此項來提升渲染效率 (此功能尚在開發中，敬請期待)",valuePropName:"checked",children:I(jt,{size:"small"})})]})},Hg=({form:e})=>{const{showModal:t,modalProps:n,setIsModalOpen:r}=ci(),[o]=K.useForm(),{mutate:a,isLoading:s}=Xn({resource:zn,dataProvider:"wp",pathParams:[vt],mutationOptions:{onSuccess:async()=>{Be.success({message:"設定儲存成功，正刷新頁面..."}),r(!1),setTimeout(()=>{window.location.reload()},3e3)},onError:f=>{console.log("Error",f),Be.error({message:"儲存失敗"})}}}),c={...n,okText:"儲存",cancelText:"取消",onOk:async()=>{var S;const f=o.getFieldsValue(),{startTime:C,endTime:h}=f;f.startTime=C?Gt(C).valueOf():null,f.endTime=h?Gt(h).valueOf():null,f.btnColor=(S=f.btnColor)==null?void 0:S.toHexString();const v=await Gn({form:e});a({meta:{[`${Qe}_settings`]:JSON.stringify(f),[`${Qe}_meta`]:JSON.stringify(v)}})},confirmLoading:s,width:960},u=po({post_id:vt,meta_key:`${Qe}_settings`,formatter:f=>JSON.parse(f||"{}")}),{isLoading:g}=u,d=(u==null?void 0:u.meta)??ai;return F(ot,{children:[I(Xt,{type:"default",icon:I(Dl,{}),onClick:t,children:"設定"}),I(Ka,{...c,children:I(K,{form:o,layout:"vertical",children:I(ui,{tabPosition:"left",items:[{key:"timeSetting",label:"開站時間",children:I(Mg,{isLoading:g,settings:d})},{key:"2",label:"其他",children:I(Rg,{isLoading:g,settings:d})}],className:"h-[500px]"})})})]})},kg=()=>{const e=po({post_id:vt,meta_key:`${Qe}_meta`,formatter:n=>JSON.parse(n||"[]")}),t=(e==null?void 0:e.meta)??[];return{...e,shop_meta:t}},_g=e=>{const[t,n]=Pt(en),[r]=Pt(xt),o=async()=>{if(kn){const s=await Gn({form:e});kn.value=JSON.stringify(s)}};return l.useEffect(()=>{t?(Be.config({maxCount:1}),Be.warning({key:"saveNotification",message:"偵測到變更，記得儲存！",duration:null,placement:"bottomRight"})):Be.destroy("saveNotification")},[t]),l.useEffect(()=>{o()},[r.length]),{handleFormChange:()=>{n(!0),o()}}},Ag=({form:e,isPSMetaLoading:t,productsResult:n,shop_meta:r})=>{const{handleSave:o}=Jo(e),a=bt(xt),s=bt(er),i=async c=>{Be.destroy("saveNotification"),kn||await o()};return l.useEffect(()=>(nt&&nt.addEventListener("click",i),()=>{nt&&nt.removeEventListener("click",i)}),[]),l.useEffect(()=>{var c;if(!(n!=null&&n.isFetching)&&!t){const u=((c=n==null?void 0:n.data)==null?void 0:c.data)||[],g=r.map(f=>f.productId),d=Co(u,f=>g.indexOf(f.id));g.every(f=>f===void 0)?(a([]),s([])):(a(d),s(r)),Vt&&(Vt.disabled=!1),nt&&(nt.disabled=!1)}else Vt&&(Vt.disabled=!0),nt&&(nt.disabled=!0)},[t,n==null?void 0:n.isFetching,r]),{handleSave:i}},Lg=({productsResult:e,shop_meta:t})=>{var i;const n=Pa(),{mutate:r,...o}=Xn({resource:zn,dataProvider:"wp",pathParams:[vt],mutationOptions:{onSuccess:()=>{Be.success({key:"handleShopMeta",message:"偵測到商品型態有變更",description:"資料已更新成功，帶入初始價格，請再次檢視商品價格"}),Be.destroy("saveNotification"),n.invalidateQueries({queryKey:["get_post_meta",vt,`${Qe}_meta`]})},onError:c=>{console.log("Error",c),Be.error({key:"handleShopMeta",message:"偵測到商品型態有變更",description:"資料更新失敗，請重新整理，再試一次"})}}}),a=((i=e==null?void 0:e.data)==null?void 0:i.data)||[],s=t.some(c=>{const u=c==null?void 0:c.productId,g=jg(c),d=a==null?void 0:a.find(p=>p.id===u);return d!=null&&d.type?(d==null?void 0:d.type)!==g:!1});return l.useEffect(()=>{if(s){const c=t.map(u=>{var p;const g=u==null?void 0:u.productId,d=a==null?void 0:a.find(f=>f.id===g);if((d==null?void 0:d.type)==="simple")return{productId:d==null?void 0:d.id,productType:d==null?void 0:d.type,regularPrice:Number(d==null?void 0:d.regular_price),salesPrice:Number(d==null?void 0:d.sale_price)};if((d==null?void 0:d.type)==="variable"){const f=(p=d==null?void 0:d.productVariations)==null?void 0:p.map(C=>({regularPrice:Number(C==null?void 0:C.regular_price),salesPrice:Number(C==null?void 0:C.sale_price),variationId:C==null?void 0:C.id}));return{productId:d==null?void 0:d.id,productType:d==null?void 0:d.type,variations:f}}return u});r({meta:{[`${Qe}_meta`]:JSON.stringify(c)}})}},[s]),o};function jg(e){return e!=null&&e.productType?e==null?void 0:e.productType:e!=null&&e.variations?"variable":"simple"}const zg=e=>{var c;const[t,n]=l.useState({data:{data:[]},isLoading:!0,isFetching:!0}),[r,o]=l.useState(!0),a=bt(xt),s=Yt({resource:"products",dataProvider:"wc",args:{include:e,status:"publish",per_page:100},queryOptions:{enabled:e.length>0,staleTime:1e3*60*15,cacheTime:1e3*60*15}}),i=((c=s==null?void 0:s.data)==null?void 0:c.data)||[];return l.useEffect(()=>{!s.isLoading&&s.isSuccess&&Promise.all(i.map(async u=>{if((u==null?void 0:u.type)!=="variable"&&!(u!=null&&u.productVariations))return await u;const g=await ii({resource:`products/${u==null?void 0:u.id}/variations`,dataProvider:"wc",args:{per_page:100}}),d=(g==null?void 0:g.data)??[];return{...u,productVariations:d}})).then(u=>{const g=Array.isArray(u)?u:[],d=e,p=Co(g,f=>d.indexOf(f.id));return a(p),n({data:{data:u},isLoading:!1,isFetching:!1}),o(!1),u}).catch(u=>(console.log("err:",u),o(!1),n({data:{data:[]},isLoading:!1,isFetching:!1}),[]))},[s.isLoading]),l.useEffect(()=>{e.length===0&&(n({data:{data:[]},isLoading:!1,isFetching:!1}),o(!1))},[e.length]),{...t,isLoading:r}},{Paragraph:Bg}=Zn,Vt=document.getElementById("publish"),nt=document.querySelector('[class*="editor-post-publish-button"]'),kn=document.getElementById(`meta-${Na}-value`),Fg=()=>{const{shop_meta:e,isLoading:t}=kg(),n=e.map(p=>p.productId),r=zg(n),[o,a]=Pt(xt),[s]=K.useForm(),i=l.useRef(null);Ag({form:s,isPSMetaLoading:t,productsResult:r,shop_meta:e});const{isLoading:c}=Lg({productsResult:r,shop_meta:e}),{handleFormChange:u}=_g(s),g=l.useCallback((p,f)=>{a(S=>oo(S,{$splice:[[p,1],[f,0,S[p]]]}));const C=s.getFieldsValue(),h=Object.values(C),v=oo(h,{$splice:[[p,1],[f,0,h[p]]]});s.setFieldsValue(v)},[]),d=l.useCallback((p,f)=>I(gg,{index:f,product:p,moveCard:g},p.id),[]);return F("div",{className:"p-4",children:[(t||c||r.isLoading)&&I(fg,{}),F(K,{className:"pt-4",layout:"vertical",form:s,onValuesChange:u,children:[F("div",{className:"flex justify-between mb-4",children:[I(Hg,{form:s}),I(mg,{type:"primary",icon:I(El,{}),disabled:t||(r==null?void 0:r.isFetching)||c})]}),I(xo,{className:"mb-4",message:F("div",{className:"flex",children:["要在頁面使用這些商品，請使用",I(Bg,{className:"mx-4 my-0",copyable:!0,children:`[${Qe}_products]`})," ","這個 shortcode，在快速商店以外使用這個 shortcode 是沒有作用的"]}),type:"info",showIcon:!0}),I(Md,{backend:Tg,children:r!=null&&r.isLoading&&(r!=null&&r.isLoading)?[1,2,3].map(p=>I(hg,{ratio:"h-[8rem]"},p)):o.map((p,f)=>d(p,f))}),I(uu,{}),I("input",{ref:i,type:"hidden",name:`${Qe}_meta`,value:""})]})]})};function Xg(){return I(Ma,{hashPriority:"high",children:I(Fg,{})})}export{Xg as default};
//# sourceMappingURL=App1-9051201a.js.map
